{"remainingRequest":"D:\\资料\\codictation.2.4\\codictation\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\资料\\codictation.2.4\\codictation\\src\\components\\reference.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\资料\\codictation.2.4\\codictation\\src\\components\\reference.vue","mtime":1616232643851},{"path":"D:\\资料\\codictation.2.4\\codictation\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\资料\\codictation.2.4\\codictation\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\资料\\codictation.2.4\\codictation\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\资料\\codictation.2.4\\codictation\\node_modules\\vue-cli-plugin-quasar\\lib\\loader.auto-import.js","mtime":499162500000},{"path":"D:\\资料\\codictation.2.4\\codictation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\资料\\codictation.2.4\\codictation\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouYm94LWNhcmQgewogIHdpZHRoOiA2MDBweDsKICBwYWRkaW5nOiAxOHB4IDA7Cn0K"},{"version":3,"sources":["reference.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA;AACA","file":"reference.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div style=\"margin-top:60px\" class=\"container\">\n    <div v-if=\"isShowR\">\n      参考版本：\n      <el-card class=\"box-card\" shadow=\"hover\">\n        {{ reference }}\n      </el-card>\n    </div>\n    <div v-else>当前任务发布者未提供参考版本~</div>\n    <br />\n    <div v-if=\"isShowB\">\n      <el-input\n        type=\"textarea\"\n        v-model=\"myReference\"\n        :rows=\"4\"\n        :autosize=\"{ minRows: 4, maxRows: 15 }\"\n        style=\"width:60%\"\n      ></el-input>\n      <br />\n      <el-button type=\"primary\" @click=\"submitRefer()\">发布</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Header from \"./basic/Header.vue\";\nexport default {\n  data() {\n    return {\n      name: \"\",\n      diffId: \"\",\n      publisher: \"\",\n      reference: \"\",\n      myReference: \"\",\n      isShowB: false,\n      isShowR: false,\n      api: \"/api\",\n    };\n  },\n  components: {\n    Header,\n  },\n  methods: {\n    submitRefer() {\n      this.$axios.post(this.api + \"/updateReference\", {\n        //数据更新\n        params: {\n          _id: this.diffId,\n          reference: this.myReference.trim(),\n        },\n      });\n      this.isShowR = true;\n      this.reference = this.myReference; //后期可改成从数据库取数据\n      this.myReference = \"\";\n    },\n  },\n  created() {\n    this.name = sessionStorage.getItem(\"userName\");\n    this.diffId = this.$route.params.diffId;\n    //请求数据\n    this.$axios\n      .get(this.api + \"/currentTask?_id=\" + this.diffId)\n      .then((res) => {\n        this.publisher = res.data[0].publisher;\n        this.reference = res.data[0].reference;\n        if (this.publisher == this.name) {\n          this.isShowB = true;\n        }\n        if (this.reference.length > 0) {\n          this.isShowR = true;\n        }\n      });\n  },\n};\n</script>\n\n<style>\n.box-card {\n  width: 600px;\n  padding: 18px 0;\n}\n</style>"]}]}