{"remainingRequest":"D:\\project\\codictation.2.7\\codictation\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\codictation.2.7\\codictation\\src\\components\\basic\\Avatar.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\codictation.2.7\\codictation\\src\\components\\basic\\Avatar.vue","mtime":1616227420790},{"path":"D:\\project\\codictation.2.7\\codictation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\codictation.2.7\\codictation\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\project\\codictation.2.7\\codictation\\node_modules\\vue-cli-plugin-quasar\\lib\\loader.transform-quasar-imports.js","mtime":499162500000},{"path":"D:\\project\\codictation.2.7\\codictation\\node_modules\\vue-cli-plugin-quasar\\lib\\loader.auto-import.js","mtime":499162500000},{"path":"D:\\project\\codictation.2.7\\codictation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\codictation.2.7\\codictation\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogWyduYW1lJ10sCiAgLy8gZGF0YSgpIHsKICAvLyAgIHJldHVybiB7CiAgLy8gICAgIG5hbWU6ICIiLCAvL+W9k+WJjeeUqOaIt+eahOeUqOaIt+WQjQogIC8vICAgfTsKICAvLyB9LAogIG1vdW50ZWQoKSB7CiAgICBnZW5lcmF0ZSh0aGlzLiRyZWZzLmNhbnZhcywgdGhpcy5uYW1lKTsKICB9LAogIHdhdGNoOiB7CiAgICBuYW1lKHZhbHVlKSB7CiAgICAgIGdlbmVyYXRlKHRoaXMuJHJlZnMuY2FudmFzLCB2YWx1ZSk7CiAgICB9LAogIH0sCiAgLy8gY3JlYXRlZCgpIHsKICAvLyAgIHRoaXMubmFtZSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXJOYW1lIik7CiAgLy8gfSwKfTsKCmNvbnN0IE1VTFRJUExJRVIgPSAxMTAzNTE1MjQ1Owpjb25zdCBJTkNSRU1FTlQgPSAxMjM0NTsKY29uc3QgTU9EVUxVUyA9IE1hdGgucG93KDIsIDMxKTsKCmZ1bmN0aW9uIGxjZyh4LCBpID0gTVVMVElQTElFUiwgYyA9IElOQ1JFTUVOVCwgbSA9IE1PRFVMVVMpIHsKICByZXR1cm4gKGkgKiB4ICsgYykgJSBtOwp9CgpmdW5jdGlvbiBjcmVhdGVSYW5kb21pemVyKGluaXRpYWxTZWVkID0gRGF0ZS5ub3coKSkgewogIGxldCBzZWVkID0gaW5pdGlhbFNlZWQ7CiAgZnVuY3Rpb24gcmVzZXQobmV3U2VlZCA9IGluaXRpYWxTZWVkKSB7CiAgICBzZWVkID0gbmV3U2VlZDsKICB9CiAgZnVuY3Rpb24gcmFuZG9tKCkgewogICAgc2VlZCA9IGxjZyhzZWVkKTsKICAgIHJldHVybiBzZWVkIC8gTU9EVUxVUzsKICB9CiAgZnVuY3Rpb24gcmFuZG9tSW50KG1pbiwgbWF4KSB7CiAgICByZXR1cm4gbWluICsgTWF0aC5mbG9vcihyYW5kb20oKSAqIChtYXggLSBtaW4pKTsKICB9CiAgcmV0dXJuIHsKICAgIHJlc2V0LAogICAgcmFuZG9tLAogICAgcmFuZG9tSW50LAogIH07Cn0KCmNvbnN0IHJhbmRvbWl6ZXIgPSBjcmVhdGVSYW5kb21pemVyKCk7CgpmdW5jdGlvbiBwcm9jZWR1cmFsRHJhdyhjeCwgcmFuZG9taXplciwgc3RhcnQsIGRyYXcpIHsKICBjb25zdCB0b3RhbCA9IHJhbmRvbWl6ZXIucmFuZG9tSW50KDQsIDEwKTsKICBjb25zdCByYWRpdXMgPSBjeC5jYW52YXMud2lkdGggPj4gcmFuZG9taXplci5yYW5kb21JbnQoMSwgMyk7CiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRvdGFsOyBpbmRleCsrKSB7CiAgICBjb25zdCBhbmdsZSA9IHN0YXJ0ICsgKGluZGV4IC8gdG90YWwpICogTWF0aC5QSSAqIDI7CiAgICBkcmF3KGN4LCB7IGluZGV4LCB0b3RhbCwgYW5nbGUsIHJhZGl1cyB9KTsKICB9Cn0KCmZ1bmN0aW9uIGdlbmVyYXRlKGNhbnZhcywgbmFtZSkgewogIGNvbnN0IGN4ID0gY2FudmFzLmdldENvbnRleHQoIjJkIik7CiAgaWYgKGN4LmNhbnZhcy53aWR0aCAhPT0gY3guY2FudmFzLmNsaWVudFdpZHRoKSB7CiAgICBjeC5jYW52YXMud2lkdGggPSBjeC5jYW52YXMuY2xpZW50V2lkdGg7CiAgfQoKICBpZiAoY3guY2FudmFzLmhlaWdodCAhPT0gY3guY2FudmFzLmNsaWVudEhlaWdodCkgewogICAgY3guY2FudmFzLmhlaWdodCA9IGN4LmNhbnZhcy5jbGllbnRIZWlnaHQ7CiAgfQoKICBjb25zdCBjY3ggPSBjeC5jYW52YXMud2lkdGggPj4gMTsKICBjb25zdCBjY3kgPSBjeC5jYW52YXMuaGVpZ2h0ID4+IDE7CiAgY29uc3QgbWluID0gY3guY2FudmFzLndpZHRoID4+IDY7CiAgY29uc3QgbWF4ID0gY3guY2FudmFzLndpZHRoID4+IDI7CgogIGNvbnN0IHN0YXJ0ID0gcmFuZG9taXplci5yYW5kb20oKSAqIE1hdGguUEk7CgogIGN4LmNsZWFyUmVjdCgwLCAwLCBjeC5jYW52YXMud2lkdGgsIGN4LmNhbnZhcy5oZWlnaHQpOwogIGxldCB2b3dlbHMgPSAwLAogICAgY29uc29uYW50cyA9IDAsCiAgICBudW1iZXJzID0gMCwKICAgIHN5bWJvbHMgPSAwLAogICAgc3VtID0gMCwKICAgIHNlZWQgPSAwOwoKICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbmFtZS5sZW5ndGg7IGluZGV4KyspIHsKICAgIGNvbnN0IGNoYXIgPSBuYW1lLmNoYXJBdChpbmRleCk7CiAgICBjb25zdCBjaGFyQ29kZSA9IG5hbWUuY2hhckNvZGVBdChpbmRleCk7CiAgICBpZiAoY2hhci5tYXRjaCgvWzAtOV0vKSkgewogICAgICBudW1iZXJzKys7CiAgICB9IGVsc2UgaWYgKGNoYXIubWF0Y2goL1thZWlvdcOhw6nDrcOzw7rDoMOow6zDssO5w6TDq8Ovw7bDvMOiw6rDrsO0w7tdLykpIHsKICAgICAgdm93ZWxzKys7CiAgICB9IGVsc2UgaWYgKGNoYXIubWF0Y2goL1tfXC1AIicjJCUmXC8oKT3Cvz/CoSE8Pnt9XFtcXcK6wqpcXCdgK10vKSkgewogICAgICBzeW1ib2xzKys7CiAgICB9IGVsc2UgewogICAgICBjb25zb25hbnRzKys7CiAgICB9CiAgICBzdW0gKz0gY2hhckNvZGU7CiAgfQogIHNlZWQgPSBzdW0gPj4+IChudW1iZXJzICogdm93ZWxzICogc3ltYm9scyAqIGNvbnNvbmFudHMpOwogIHJhbmRvbWl6ZXIucmVzZXQoc2VlZCk7CiAgLy8gcmFuZG9taXplci5yYW5kb20oKQogIGNvbnN0IGh1ZSA9IHJhbmRvbWl6ZXIucmFuZG9tSW50KDAsIDM2MCk7CiAgY3guZmlsbFN0eWxlID0gYGhzbCgke2h1ZX0sIDUwJSwgNTAlKWA7CiAgY3guZmlsbFJlY3QoMCwgMCwgY3guY2FudmFzLndpZHRoLCBjeC5jYW52YXMuaGVpZ2h0KTsKCiAgcHJvY2VkdXJhbERyYXcoCiAgICBjeCwKICAgIHJhbmRvbWl6ZXIsCiAgICBzdGFydCwKICAgIChjeCwgeyBpbmRleCwgdG90YWwsIGFuZ2xlLCByYWRpdXMgfSkgPT4gewogICAgICBjb25zdCBhY3ggPSBjY3ggKyBNYXRoLmNvcyhhbmdsZSkgKiByYWRpdXM7CiAgICAgIGNvbnN0IGFjeSA9IGNjeSArIE1hdGguc2luKGFuZ2xlKSAqIHJhZGl1czsKICAgICAgY3guYmVnaW5QYXRoKCk7CiAgICAgIGN4LmFyYyhhY3gsIGFjeSwgY3guY2FudmFzLndpZHRoID4+IDMsIDAsIE1hdGguUEkgKiAyKTsKICAgICAgY3guY2xvc2VQYXRoKCk7CiAgICAgIGN4LmZpbGxTdHlsZSA9IGBoc2woJHtodWV9LCA1MCUsIDc1JSlgOwogICAgICBjeC5maWxsKCk7CiAgICB9CiAgKTsKCiAgY3guYmVnaW5QYXRoKCk7CiAgcHJvY2VkdXJhbERyYXcoCiAgICBjeCwKICAgIHJhbmRvbWl6ZXIsCiAgICBzdGFydCwKICAgIChjeCwgeyBpbmRleCwgdG90YWwsIGFuZ2xlLCByYWRpdXMgfSkgPT4gewogICAgICBjb25zdCBhY3ggPSBjY3ggKyBNYXRoLmNvcyhhbmdsZSkgKiByYWRpdXM7CiAgICAgIGNvbnN0IGFjeSA9IGNjeSArIE1hdGguc2luKGFuZ2xlKSAqIHJhZGl1czsKICAgICAgaWYgKGluZGV4ID09PSAwKSB7CiAgICAgICAgY3gubW92ZVRvKGFjeCwgYWN5KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjeC5saW5lVG8oYWN4LCBhY3kpOwogICAgICB9CiAgICB9CiAgKTsKICBjeC5jbG9zZVBhdGgoKTsKICBjeC5saW5lV2lkdGggPSByYW5kb21pemVyLnJhbmRvbUludChtaW4sIG1heCk7CiAgY3guc3Ryb2tlU3R5bGUgPSBgaHNsKCR7aHVlfSwgNTAlLCAyNSUpYDsKICBjeC5zdHJva2UoKTsKCiAgY3guYmVnaW5QYXRoKCk7CiAgcHJvY2VkdXJhbERyYXcoCiAgICBjeCwKICAgIHJhbmRvbWl6ZXIsCiAgICBzdGFydCwKICAgIChjeCwgeyBpbmRleCwgdG90YWwsIGFuZ2xlLCByYWRpdXMgfSkgPT4gewogICAgICBjb25zdCBhY3ggPSBjY3ggKyBNYXRoLmNvcyhhbmdsZSkgKiByYWRpdXM7CiAgICAgIGNvbnN0IGFjeSA9IGNjeSArIE1hdGguc2luKGFuZ2xlKSAqIHJhZGl1czsKICAgICAgaWYgKGluZGV4ID09PSAwKSB7CiAgICAgICAgY3gubW92ZVRvKGFjeCwgYWN5KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjeC5saW5lVG8oYWN4LCBhY3kpOwogICAgICB9CiAgICB9CiAgKTsKICBjeC5jbG9zZVBhdGgoKTsKICBjeC5saW5lV2lkdGggPSByYW5kb21pemVyLnJhbmRvbUludChtaW4sIG1heCk7CiAgY3guc3Ryb2tlU3R5bGUgPSBgaHNsKCR7aHVlfSwgNTAlLCA2MCUpYDsKICBjeC5zdHJva2UoKTsKCiAgY3guYmVnaW5QYXRoKCk7CiAgY3guYXJjKGNjeCwgY2N5LCByYW5kb21pemVyLnJhbmRvbUludChtaW4sIG1heCksIDAsIE1hdGguUEkgKiAyKTsKICBjeC5jbG9zZVBhdGgoKTsKICBjeC5maWxsU3R5bGUgPSBgaHNsKCR7aHVlfSwgNTAlLCAke3JhbmRvbWl6ZXIucmFuZG9tSW50KDMwLCA3MCl9JSlgOwogIGN4LmZpbGwoKTsKfQo="},{"version":3,"sources":["Avatar.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Avatar.vue","sourceRoot":"src/components/basic","sourcesContent":["<template>\n    <canvas ref=\"canvas\"></canvas>\n</template>\n\n<script>\nexport default {\n  props: ['name'],\n  // data() {\n  //   return {\n  //     name: \"\", //当前用户的用户名\n  //   };\n  // },\n  mounted() {\n    generate(this.$refs.canvas, this.name);\n  },\n  watch: {\n    name(value) {\n      generate(this.$refs.canvas, value);\n    },\n  },\n  // created() {\n  //   this.name = sessionStorage.getItem(\"userName\");\n  // },\n};\n\nconst MULTIPLIER = 1103515245;\nconst INCREMENT = 12345;\nconst MODULUS = Math.pow(2, 31);\n\nfunction lcg(x, i = MULTIPLIER, c = INCREMENT, m = MODULUS) {\n  return (i * x + c) % m;\n}\n\nfunction createRandomizer(initialSeed = Date.now()) {\n  let seed = initialSeed;\n  function reset(newSeed = initialSeed) {\n    seed = newSeed;\n  }\n  function random() {\n    seed = lcg(seed);\n    return seed / MODULUS;\n  }\n  function randomInt(min, max) {\n    return min + Math.floor(random() * (max - min));\n  }\n  return {\n    reset,\n    random,\n    randomInt,\n  };\n}\n\nconst randomizer = createRandomizer();\n\nfunction proceduralDraw(cx, randomizer, start, draw) {\n  const total = randomizer.randomInt(4, 10);\n  const radius = cx.canvas.width >> randomizer.randomInt(1, 3);\n  for (let index = 0; index < total; index++) {\n    const angle = start + (index / total) * Math.PI * 2;\n    draw(cx, { index, total, angle, radius });\n  }\n}\n\nfunction generate(canvas, name) {\n  const cx = canvas.getContext(\"2d\");\n  if (cx.canvas.width !== cx.canvas.clientWidth) {\n    cx.canvas.width = cx.canvas.clientWidth;\n  }\n\n  if (cx.canvas.height !== cx.canvas.clientHeight) {\n    cx.canvas.height = cx.canvas.clientHeight;\n  }\n\n  const ccx = cx.canvas.width >> 1;\n  const ccy = cx.canvas.height >> 1;\n  const min = cx.canvas.width >> 6;\n  const max = cx.canvas.width >> 2;\n\n  const start = randomizer.random() * Math.PI;\n\n  cx.clearRect(0, 0, cx.canvas.width, cx.canvas.height);\n  let vowels = 0,\n    consonants = 0,\n    numbers = 0,\n    symbols = 0,\n    sum = 0,\n    seed = 0;\n\n  for (let index = 0; index < name.length; index++) {\n    const char = name.charAt(index);\n    const charCode = name.charCodeAt(index);\n    if (char.match(/[0-9]/)) {\n      numbers++;\n    } else if (char.match(/[aeiouáéíóúàèìòùäëïöüâêîôû]/)) {\n      vowels++;\n    } else if (char.match(/[_\\-@\"'#$%&\\/()=¿?¡!<>{}\\[\\]ºª\\\\'`+]/)) {\n      symbols++;\n    } else {\n      consonants++;\n    }\n    sum += charCode;\n  }\n  seed = sum >>> (numbers * vowels * symbols * consonants);\n  randomizer.reset(seed);\n  // randomizer.random()\n  const hue = randomizer.randomInt(0, 360);\n  cx.fillStyle = `hsl(${hue}, 50%, 50%)`;\n  cx.fillRect(0, 0, cx.canvas.width, cx.canvas.height);\n\n  proceduralDraw(\n    cx,\n    randomizer,\n    start,\n    (cx, { index, total, angle, radius }) => {\n      const acx = ccx + Math.cos(angle) * radius;\n      const acy = ccy + Math.sin(angle) * radius;\n      cx.beginPath();\n      cx.arc(acx, acy, cx.canvas.width >> 3, 0, Math.PI * 2);\n      cx.closePath();\n      cx.fillStyle = `hsl(${hue}, 50%, 75%)`;\n      cx.fill();\n    }\n  );\n\n  cx.beginPath();\n  proceduralDraw(\n    cx,\n    randomizer,\n    start,\n    (cx, { index, total, angle, radius }) => {\n      const acx = ccx + Math.cos(angle) * radius;\n      const acy = ccy + Math.sin(angle) * radius;\n      if (index === 0) {\n        cx.moveTo(acx, acy);\n      } else {\n        cx.lineTo(acx, acy);\n      }\n    }\n  );\n  cx.closePath();\n  cx.lineWidth = randomizer.randomInt(min, max);\n  cx.strokeStyle = `hsl(${hue}, 50%, 25%)`;\n  cx.stroke();\n\n  cx.beginPath();\n  proceduralDraw(\n    cx,\n    randomizer,\n    start,\n    (cx, { index, total, angle, radius }) => {\n      const acx = ccx + Math.cos(angle) * radius;\n      const acy = ccy + Math.sin(angle) * radius;\n      if (index === 0) {\n        cx.moveTo(acx, acy);\n      } else {\n        cx.lineTo(acx, acy);\n      }\n    }\n  );\n  cx.closePath();\n  cx.lineWidth = randomizer.randomInt(min, max);\n  cx.strokeStyle = `hsl(${hue}, 50%, 60%)`;\n  cx.stroke();\n\n  cx.beginPath();\n  cx.arc(ccx, ccy, randomizer.randomInt(min, max), 0, Math.PI * 2);\n  cx.closePath();\n  cx.fillStyle = `hsl(${hue}, 50%, ${randomizer.randomInt(30, 70)}%)`;\n  cx.fill();\n}\n</script>\n\n<style>\ncanvas {\n  width: 3rem;\n  height: 3rem;\n}\n</style>\n"]}]}