{"remainingRequest":"F:\\codictation\\collection\\final project\\codictation\\codictation2.0\\codictation.2.2\\codictation\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\codictation\\collection\\final project\\codictation\\codictation2.0\\codictation.2.2\\codictation\\src\\components\\Dictation.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\codictation\\collection\\final project\\codictation\\codictation2.0\\codictation.2.2\\codictation\\src\\components\\Dictation.vue","mtime":1612749277000},{"path":"F:\\codictation\\collection\\final project\\codictation\\codictation2.0\\codictation.2.2\\codictation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\codictation\\collection\\final project\\codictation\\codictation2.0\\codictation.2.2\\codictation\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\codictation\\collection\\final project\\codictation\\codictation2.0\\codictation.2.2\\codictation\\node_modules\\vue-cli-plugin-quasar\\lib\\loader.transform-quasar-imports.js","mtime":499162500000},{"path":"F:\\codictation\\collection\\final project\\codictation\\codictation2.0\\codictation.2.2\\codictation\\node_modules\\vue-cli-plugin-quasar\\lib\\loader.auto-import.js","mtime":499162500000},{"path":"F:\\codictation\\collection\\final project\\codictation\\codictation2.0\\codictation.2.2\\codictation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\codictation\\collection\\final project\\codictation\\codictation2.0\\codictation.2.2\\codictation\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBIZWFkZXIgZnJvbSAiLi4vY29tcG9uZW50cy9iYXNpYy9IZWFkZXIudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YXNrTGlzdDogW10sCiAgICAgIGNvZGU6ICIiLCAvL+W9k+WJjei+k+WFpeeahOmqjOivgeeggQogICAgICBuYW1lOiAiIiwgLy/lvZPliY3nlKjmiLcKICAgICAgYXBpOiAiL2FwaSIsCiAgICAgIGNhdGVnb3JpZXM6IFsKICAgICAgICB7IHZhbHVlOiAiQWxsIiwgbGFiZWw6ICJBbGwiIH0sCiAgICAgICAgeyB2YWx1ZTogIkVjb25vbXkiLCBsYWJlbDogIkVjb25vbXkiIH0sCiAgICAgICAgeyB2YWx1ZTogIlNjaWVuY2UiLCBsYWJlbDogIlNjaWVuY2UiIH0sCiAgICAgICAgeyB2YWx1ZTogIlBvbGl0aWNzIiwgbGFiZWw6ICJQb2xpdGljcyIgfSwKICAgICAgICB7IHZhbHVlOiAiTGl0ZXJhdHVyZSIsIGxhYmVsOiAiTGl0ZXJhdHVyZSIgfSwKICAgICAgICB7IHZhbHVlOiAiQ29yb25hdmlydXMiLCBsYWJlbDogIkNvcm9uYXZpcnVzIiB9LAogICAgICAgIHsgdmFsdWU6ICJIZWFsdGgiLCBsYWJlbDogIkhlYWx0aCIgfSwKICAgICAgICB7IHZhbHVlOiAiTmF0dXJlIiwgbGFiZWw6ICJOYXR1cmUiIH0sCiAgICAgICAgeyB2YWx1ZTogIlNwb3J0cyIsIGxhYmVsOiAiU3BvcnRzIiB9LAogICAgICAgIHsgdmFsdWU6ICJDZWxlYnJpdHkiLCBsYWJlbDogIkNlbGVicml0eSIgfSwKICAgICAgICB7IHZhbHVlOiAiT3RoZXJzIiwgbGFiZWw6ICJPdGhlcnMiIH0sCiAgICAgIF0sCiAgICAgIGNhdGVnb3J5OiAiIiwKICAgICAgc3ViY29udGVudHM6IFtdLAogICAgICB0b3RhbDogMCwKICAgICAgcGFnZXNpemU6IDEwLAogICAgICBjdXJyZW50cGFnZTogMSwKICAgICAgY3VycmVudENvbnRlbnQ6IFtdLAogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBjYXRlZ29yeSgpIHsKICAgICAgdGhpcy5maWx0ZXJDKHRoaXMuY2F0ZWdvcnkpOwogICAgfSwKICAgIHN1YmNvbnRlbnRzKCkgewogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnN1YmNvbnRlbnRzKTsKICAgICAgdGhpcy5jdXJyZW50VG90YWwoKTsKICAgIH0sCiAgICBjdXJyZW50cGFnZSgpIHsKICAgICAgdGhpcy5zaG93Q3VycmVudCh0aGlzLmN1cnJlbnRwYWdlKTsKICAgIH0sCiAgfSwKCiAgbWV0aG9kczogewogICAgc2hvd0N1cnJlbnQoY3BhZ2UpIHsKICAgICAgdmFyIG1pbiA9IChjcGFnZSAtIDEpICogdGhpcy5wYWdlc2l6ZTsKICAgICAgdmFyIG1heCA9IGNwYWdlICogdGhpcy5wYWdlc2l6ZTsKICAgICAgdGhpcy5jdXJyZW50Q29udGVudCA9IHRoaXMuc3ViY29udGVudHMuc2xpY2UobWluLCBtYXgpOwogICAgfSwKICAgIGN1cnJlbnRUb3RhbCgpIHsKICAgICAgdGhpcy50b3RhbCA9IHRoaXMuc3ViY29udGVudHMubGVuZ3RoOwogICAgfSwKICAgIGZpbHRlckMoY2F0ZWdvcnkpIHsKICAgICAgdGhpcy5zdWJjb250ZW50cyA9IHRoaXMudGFza0xpc3Q7CiAgICAgIGlmIChjYXRlZ29yeSAhPSAiQWxsIiAmJiBjYXRlZ29yeSAhPSAiIikgewogICAgICAgIHRoaXMuc3ViY29udGVudHMgPSB0aGlzLnN1YmNvbnRlbnRzLmZpbHRlcigodGVtcCkgPT4gewogICAgICAgICAgcmV0dXJuIHRlbXBbImxhYmVsIl0gPT0gY2F0ZWdvcnk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgdGhpcy5zaG93Q3VycmVudCgxKTsKICAgIH0sCiAgICBjb21wYXJlKGF0dHIsIHJldikgewogICAgICAvL+esrOS6jOS4quWPguaVsOayoeacieS8oOmAkiDpu5jorqTljYfluo/mjpLliJcKICAgICAgaWYgKHJldiA9PSB1bmRlZmluZWQpIHsKICAgICAgICByZXYgPSAxOwogICAgICB9IGVsc2UgewogICAgICAgIHJldiA9IHJldiA/IDEgOiAtMTsKICAgICAgfQogICAgICByZXR1cm4gZnVuY3Rpb24oYSwgYikgewogICAgICAgIGEgPSBhW2F0dHJdOwogICAgICAgIGIgPSBiW2F0dHJdOwogICAgICAgIGlmIChhIDwgYikgewogICAgICAgICAgcmV0dXJuIHJldiAqIC0xOwogICAgICAgIH0KICAgICAgICBpZiAoYSA+IGIpIHsKICAgICAgICAgIHJldHVybiByZXYgKiAxOwogICAgICAgIH0KICAgICAgICByZXR1cm4gMDsKICAgICAgfTsKICAgIH0sCiAgICBzdGFydEV4KGluZGV4KSB7CiAgICAgIGlmICh0aGlzLm5hbWUpIHsKICAgICAgICB2YXIgZGlmZklkID0gdGhpcy50YXNrTGlzdFtpbmRleF0uX2lkOyAvL+S7u+WKoV9pZAogICAgICAgIHZhciBwYXRoID0gIi9kaWZmLyIgKyBkaWZmSWQ7CiAgICAgICAgdmFyIGF1dGhjb2RlID0gdGhpcy50YXNrTGlzdFtpbmRleF0uYXV0aGNvZGU7IC8v5Lu75Yqh5a+55bqU55qE6aqM6K+B56CBCiAgICAgICAgaWYgKGF1dGhjb2RlICE9PSAiIikgewogICAgICAgICAgdGhpcy4kcHJvbXB0KCLor7fovpPlhaXpqozor4HnoIEiLCAi5o+Q56S6IiwgewogICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgICAgfSkKICAgICAgICAgICAgLnRoZW4oKHsgdmFsdWUgfSkgPT4gewogICAgICAgICAgICAgIGlmIChhdXRoY29kZSA9PT0gdmFsdWUpIHsKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHBhdGgpOwogICAgICAgICAgICAgICAgLy/ot7PovazliLDnm7jlupTnmoTnu4PkuaDpobXpnaIKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi6aqM6K+B56CB6ZSZ6K+vIik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgdHlwZTogImluZm8iLAogICAgICAgICAgICAgICAgbWVzc2FnZTogIuWPlua2iOi+k+WFpSIsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaChwYXRoKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9Mb2dpbicpCiAgICAgIH0KICAgIH0sCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBIZWFkZXIsCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5uYW1lID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlck5hbWUiKTsKICAgIHRoaXMuJGF4aW9zLmdldCh0aGlzLmFwaSArICIvdGFza0xpc3QiKS50aGVuKChyZXMpID0+IHsKICAgICAgdGhpcy50YXNrTGlzdCA9IHJlcy5kYXRhOwogICAgICB0aGlzLnRhc2tMaXN0LnJldmVyc2UoKTsKICAgICAgdGhpcy5zdWJjb250ZW50cyA9IHRoaXMudGFza0xpc3Q7CiAgICAgIHRoaXMudG90YWwgPSB0aGlzLnN1YmNvbnRlbnRzLmxlbmd0aDsKICAgICAgdGhpcy5zaG93Q3VycmVudCh0aGlzLmN1cnJlbnRwYWdlKTsKICAgICAgLy/lm6DkuLrnjrDlnKjmlbDmja7lupPph4znmoTmlbDmja7lpKfpg6jliIbmsqHmnIl0aW1l6L+Z5Liq5a2X5q6177yM5YWI55u05o6l5YCS572u5pW05Liq5pWw57uE77yM5ZCO6Z2i5pS555Soc29ydCArIGNvbXBhcmUKICAgICAgLy8gdGhpcy50YXNrTGlzdC5zb3J0KHRoaXMuY29tcGFyZSgidGltZSIsIC0xKSk7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuY3VycmVudENvbnRlbnQpOwogICAgfSk7CiAgfSwKfTsK"},{"version":3,"sources":["Dictation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Dictation.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div><Header></Header></div>\n    <el-backtop></el-backtop>\n    <div id=\"select\">\n      <el-select v-model=\"category\" placeholder=\"Choose a category\">\n        <el-option\n          v-for=\"item in categories\"\n          :key=\"item.value\"\n          :label=\"item.label\"\n          :value=\"item.value\"\n        >\n        </el-option>\n      </el-select>\n    </div>\n    <q-layout>\n      <q-page-container>\n        <div class=\"cards-container\">\n          <div\n            class=\"cards-box q-pa-md items-center q-gutter-md justify-center\"\n          >\n            <q-card\n              class=\"my-card\"\n              v-for=\"(v, index) in currentContent\"\n              :key=\"index\"\n            >\n              <q-img src=\"https://cdn.quasar.dev/img/parallax2.jpg\">\n                <div class=\"absolute-bottom\">\n                  <div class=\"text-h6 text-left\">{{ v.title }}</div>\n                  <div class=\"text-subtitle2 text-left\">\n                    by {{ v.publisher }}\n                  </div>\n                </div>\n              </q-img>\n\n              <q-card-actions>\n                <q-badge\n                  outline\n                  align=\"middle\"\n                  color=\"purple-3\"\n                  v-for=\"(l, i) in v.label\"\n                  :key=\"i\"\n                >\n                  {{ l }}\n                </q-badge>\n                <q-btn\n                  flat\n                  @click=\"startEx(index)\"\n                  dense\n                  padding=\"none\"\n                  icon=\"launch\"\n                  color=\"brown\"\n                />\n              </q-card-actions>\n            </q-card>\n          </div>\n        </div>\n        <el-pagination\n          style=\"margin-top:3%\"\n          background\n          layout=\"prev, pager, next\"\n          :total=\"total\"\n          :page-size=\"pagesize\"\n          :current-page.sync=\"currentpage\"\n          hide-on-single-page\n        >\n        </el-pagination>\n      </q-page-container>\n    </q-layout>\n  </div>\n</template>\n\n<script>\nimport Header from \"../components/basic/Header.vue\";\nexport default {\n  data() {\n    return {\n      taskList: [],\n      code: \"\", //当前输入的验证码\n      name: \"\", //当前用户\n      api: \"/api\",\n      categories: [\n        { value: \"All\", label: \"All\" },\n        { value: \"Economy\", label: \"Economy\" },\n        { value: \"Science\", label: \"Science\" },\n        { value: \"Politics\", label: \"Politics\" },\n        { value: \"Literature\", label: \"Literature\" },\n        { value: \"Coronavirus\", label: \"Coronavirus\" },\n        { value: \"Health\", label: \"Health\" },\n        { value: \"Nature\", label: \"Nature\" },\n        { value: \"Sports\", label: \"Sports\" },\n        { value: \"Celebrity\", label: \"Celebrity\" },\n        { value: \"Others\", label: \"Others\" },\n      ],\n      category: \"\",\n      subcontents: [],\n      total: 0,\n      pagesize: 10,\n      currentpage: 1,\n      currentContent: [],\n    };\n  },\n  watch: {\n    category() {\n      this.filterC(this.category);\n    },\n    subcontents() {\n      // console.log(this.subcontents);\n      this.currentTotal();\n    },\n    currentpage() {\n      this.showCurrent(this.currentpage);\n    },\n  },\n\n  methods: {\n    showCurrent(cpage) {\n      var min = (cpage - 1) * this.pagesize;\n      var max = cpage * this.pagesize;\n      this.currentContent = this.subcontents.slice(min, max);\n    },\n    currentTotal() {\n      this.total = this.subcontents.length;\n    },\n    filterC(category) {\n      this.subcontents = this.taskList;\n      if (category != \"All\" && category != \"\") {\n        this.subcontents = this.subcontents.filter((temp) => {\n          return temp[\"label\"] == category;\n        });\n      }\n      this.showCurrent(1);\n    },\n    compare(attr, rev) {\n      //第二个参数没有传递 默认升序排列\n      if (rev == undefined) {\n        rev = 1;\n      } else {\n        rev = rev ? 1 : -1;\n      }\n      return function(a, b) {\n        a = a[attr];\n        b = b[attr];\n        if (a < b) {\n          return rev * -1;\n        }\n        if (a > b) {\n          return rev * 1;\n        }\n        return 0;\n      };\n    },\n    startEx(index) {\n      if (this.name) {\n        var diffId = this.taskList[index]._id; //任务_id\n        var path = \"/diff/\" + diffId;\n        var authcode = this.taskList[index].authcode; //任务对应的验证码\n        if (authcode !== \"\") {\n          this.$prompt(\"请输入验证码\", \"提示\", {\n            confirmButtonText: \"确定\",\n            cancelButtonText: \"取消\",\n          })\n            .then(({ value }) => {\n              if (authcode === value) {\n                this.$router.push(path);\n                //跳转到相应的练习页面\n              } else {\n                this.$message.error(\"验证码错误\");\n              }\n            })\n            .catch(() => {\n              this.$message({\n                type: \"info\",\n                message: \"取消输入\",\n              });\n            });\n        } else {\n          this.$router.push(path);\n        }\n      } else {\n        this.$router.push('/Login')\n      }\n    },\n  },\n  components: {\n    Header,\n  },\n  created() {\n    this.name = sessionStorage.getItem(\"userName\");\n    this.$axios.get(this.api + \"/taskList\").then((res) => {\n      this.taskList = res.data;\n      this.taskList.reverse();\n      this.subcontents = this.taskList;\n      this.total = this.subcontents.length;\n      this.showCurrent(this.currentpage);\n      //因为现在数据库里的数据大部分没有time这个字段，先直接倒置整个数组，后面改用sort + compare\n      // this.taskList.sort(this.compare(\"time\", -1));\n      console.log(this.currentContent);\n    });\n  },\n};\n</script>\n\n<style>\n#select {\n  margin-left: 3%;\n  margin-top: 6%;\n}\n\n.box-card {\n  width: 40%;\n}\n\n.cards-container {\n  text-align: center;\n  position: relative;\n  top: 1em;\n}\n\n.cards-box {\n  width: 95%;\n  margin: 0 auto;\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.my-card {\n  width: 100%;\n  max-width: 255px;\n}\n\n.row {\n  display: flex;\n  flex-wrap: wrap;\n  margin-right: 0;\n  margin-left: 0;\n}\n\n.q-card__actions.q-card__actions--horiz.row.justify-start {\n  justify-content: space-around;\n}\n\naside.q-drawer.q-drawer--left.q-drawer--bordered.q-drawer--standard,\naside.q-drawer.q-drawer--left.q-drawer--bordered.q-drawer--mini {\n  position: fixed;\n  margin-top: 3em;\n}\n\n.q-layout.q-layout--standard {\n  min-height: auto !important;\n}\n\n.q-img__content > div {\n  padding: 8px 16px 4px 16px;\n}\n</style>\n"]}]}