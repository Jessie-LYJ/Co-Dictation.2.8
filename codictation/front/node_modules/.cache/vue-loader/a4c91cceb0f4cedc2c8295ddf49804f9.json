{"remainingRequest":"E:\\FFFF\\codictation.2.4\\codictation\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\FFFF\\codictation.2.4\\codictation\\src\\components\\back\\version\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\FFFF\\codictation.2.4\\codictation\\src\\components\\back\\version\\index.vue","mtime":1613994523165},{"path":"E:\\FFFF\\codictation.2.4\\codictation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\FFFF\\codictation.2.4\\codictation\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\FFFF\\codictation.2.4\\codictation\\node_modules\\vue-cli-plugin-quasar\\lib\\loader.transform-quasar-imports.js","mtime":499162500000},{"path":"E:\\FFFF\\codictation.2.4\\codictation\\node_modules\\vue-cli-plugin-quasar\\lib\\loader.auto-import.js","mtime":499162500000},{"path":"E:\\FFFF\\codictation.2.4\\codictation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\FFFF\\codictation.2.4\\codictation\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpjb25zdCBfID0gcmVxdWlyZSgibG9hZHNoIik7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogInZlcnNpb24iLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBhcGk6ICIvdmVyc2lvbiIsDQogICAgICB0b3RhbERhdGE6IFtdLA0KICAgICAgdXNlcnM6IHt9LA0KICAgICAgUWxpc3Q6IHsNCiAgICAgICAgcGFnZW51bTogMSwgLy/lvZPliY3pobXmlbANCiAgICAgICAgcGFnZXNpemU6IDEwLA0KICAgICAgICBuYW1lOiAiIiwNCiAgICAgICAgdGFza0lkOiAiIiwNCiAgICAgIH0sDQogICAgICB0b3RhbDogIiIsDQogICAgICBzaG93QmFjazogZmFsc2UsDQogICAgICBsb2FkaW5nOiB0cnVlDQogICAgfTsNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLmZpbmRVc2VyKCk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBvblN1Ym1pdCgpIHsNCiAgICAgIGNvbnNvbGUubG9nKDEyMzQzNCk7DQogICAgfSwNCiAgICBmaW5kVXNlcigpIHsNCiAgICAgIHRoaXMuJGF4aW9zLnBvc3QodGhpcy5hcGkgKyAiL2ZpbmQiKS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgdGhpcy51c2VycyA9IF8uY2h1bmsocmVzLmRhdGEsIHRoaXMuUWxpc3QucGFnZXNpemUpWw0KICAgICAgICAgIHRoaXMuUWxpc3QucGFnZW51bSAtIDENCiAgICAgICAgXTsNCiAgICAgICAgdGhpcy50b3RhbERhdGEgPSByZXMuZGF0YTsNCiAgICAgICAgdGhpcy50b3RhbCA9IHJlcy5kYXRhLmxlbmd0aDsNCiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UNCiAgICAgIH0pOw0KICAgIH0sIC8v6I635Y+W5Yid5aeL5pWw5o2uDQogICAgc29ydENoYW5nZShkYXRhKSB7DQogICAgICBjb25zdCB7IHByb3AsIG9yZGVyIH0gPSBkYXRhOw0KICAgICAgdGhpcy4kYXhpb3MucG9zdCh0aGlzLmFwaSArICIvc29ydCIsIHsgcHJvcCwgb3JkZXIgfSkudGhlbigocmVzKSA9PiB7DQogICAgICAgIGNvbnNvbGUubG9nKCJyZXM6IiwgcmVzKTsNCiAgICAgICAgdGhpcy51c2VycyA9IHJlcy5kYXRhOw0KICAgICAgfSk7DQogICAgfSwgLy/lr7nlkITliJfov5vooYzmjpLluo/lpITnkIYNCiAgICBoYW5kbGVFZGl0KGluZGV4LCBpdGVtKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICIvdmVyc2lvbkVkaXRvciIsIHF1ZXJ5OiB7IF9pZDogaXRlbS5faWQgfSB9KTsNCiAgICB9LCAvL+e8lui+kQ0KICAgIGhhbmRsZURlbGV0ZShpbmRleCwgaXRlbSkgew0KICAgICAgdGhpcy4kYXhpb3MucG9zdCh0aGlzLmFwaSArICIvZGVsZXRlIiwgaXRlbSkudGhlbigocmVzKSA9PiB7DQogICAgICAgIGNvbnNvbGUubG9nKCJyZXM6IiwgcmVzKTsNCiAgICAgICAgdGhpcy5maW5kVXNlcigpOw0KICAgICAgfSk7DQogICAgfSwgLy/liKDpmaQNCiAgICBoYW5kbGVDcmVhdGUoKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3ZpZGVvRWRpdG9yIik7DQogICAgfSwgLy/liJvlu7oNCiAgICAvL+etm+mAiemDqOWIhg0KICAgIGhhbmRsZUZpbHRlcigpIHsNCiAgICAgIGlmICh0aGlzLlFsaXN0Lm5hbWUgPT0gIiIgJiYgdGhpcy5RbGlzdC50YXNrSWQgPT0gIiIpIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi6K+36L6T5YWl5p+l6K+i5L+h5oGvIik7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRheGlvcy5wb3N0KHRoaXMuYXBpICsgIi9maWx0ZXIiLCB0aGlzLlFsaXN0KS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZygicmVzOiIsIHJlcyk7DQogICAgICAgICAgdGhpcy51c2VycyA9IHJlcy5kYXRhOw0KICAgICAgICAgIHRoaXMuc2hvd0JhY2sgPSB0cnVlOw0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9LCAvL+etm+mAieaVsOaNrg0KICAgIGNsb3NlRmlsdGVyKCkgew0KICAgICAgdGhpcy5maW5kVXNlcigpOw0KICAgICAgdGhpcy5RbGlzdCA9IHsNCiAgICAgICAgcGFnZW51bTogMSwgLy/lvZPliY3pobXmlbANCiAgICAgICAgcGFnZXNpemU6IDIwLA0KICAgICAgICBuYW1lOiAiIiwNCiAgICAgICAgdGFza0lkOiAiIiwNCiAgICAgIH07DQogICAgICB0aGlzLnNob3dCYWNrID0gZmFsc2U7DQogICAgfSwgLy/lhbPpl63nrZvpgIkNCiAgICAvLyDliIbpobXpg6jliIYNCiAgICBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgew0KICAgICAgdGhpcy5RbGlzdC5wYWdlc2l6ZSA9IHZhbDsNCiAgICAgIHRoaXMudXNlcnMgPSBfLmNodW5rKHRoaXMudG90YWxEYXRhLCB0aGlzLlFsaXN0LnBhZ2VzaXplKVsNCiAgICAgICAgdGhpcy5RbGlzdC5wYWdlbnVtIC0gMQ0KICAgICAgXTsNCiAgICB9LCAvLyDmr4/pobXmn6XnnIvmnaHmlbDlj5jljJYNCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgew0KICAgICAgdGhpcy5RbGlzdC5wYWdlbnVtID0gdmFsOw0KICAgICAgdGhpcy51c2VycyA9IF8uY2h1bmsodGhpcy50b3RhbERhdGEsIHRoaXMuUWxpc3QucGFnZXNpemUpWw0KICAgICAgICB0aGlzLlFsaXN0LnBhZ2VudW0gLSAxDQogICAgICBdOw0KICAgIH0sIC8vIOW9k+WJjemhteeggeWPmOWMlg0KICB9LA0KfTsNCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgHA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/back/version","sourcesContent":["<template>\r\n  <div class=\"dashboard-container\">\r\n    <div class=\"filter-container\" style=\"margin: 0 0 10px 0\">\r\n      <el-input\r\n        v-model=\"Qlist.name\"\r\n        placeholder=\"用户名\"\r\n        style=\"width: 200px; margin-right: 5px\"\r\n        class=\"filter-item\"\r\n        @keyup.enter.native=\"handleFilter\"\r\n      />\r\n      <el-input\r\n        v-model=\"Qlist.taskId\"\r\n        placeholder=\"任务id\"\r\n        style=\"width: 200px; margin-right: 7px\"\r\n        class=\"filter-item\"\r\n        @keyup.enter.native=\"handleFilter\"\r\n      />\r\n      <el-button\r\n        class=\"filter-item\"\r\n        type=\"primary\"\r\n        icon=\"el-icon-search\"\r\n        @click=\"handleFilter\"\r\n      >\r\n        搜索\r\n      </el-button>\r\n      <el-button\r\n        v-if=\"showBack\"\r\n        class=\"filter-item\"\r\n        type=\"primary\"\r\n        icon=\"el-icon-search\"\r\n        @click=\"closeFilter\"\r\n      >\r\n        返回\r\n      </el-button>\r\n      <el-button\r\n        class=\"filter-item\"\r\n        style=\"margin-left: 10px\"\r\n        type=\"primary\"\r\n        icon=\"el-icon-edit\"\r\n        @click=\"handleCreate\"\r\n      >\r\n        添加\r\n      </el-button>\r\n    </div>\r\n\r\n    <el-table\r\n      v-loading=\"loading\"\r\n      element-loading-text=\"拼命加载中\"\r\n      element-loading-spinner=\"el-icon-loading\"\r\n      element-loading-background=\"rgba(0, 0, 0, 0.8)\"\r\n      :data=\"users\"\r\n      style=\"width: 100%\"\r\n      border\r\n      fit\r\n      highlight-current-row\r\n      @sort-change=\"sortChange\"\r\n    >\r\n      <el-table-column type=\"index\" label=\"序号\"> </el-table-column>\r\n      <el-table-column prop=\"_id\" sortable=\"custom\" label=\"id\" />\r\n      <el-table-column prop=\"taskId\" sortable=\"custom\" label=\"任务id\" />\r\n      <el-table-column\r\n        prop=\"version\"\r\n        width=\"450\"\r\n        sortable=\"custom\"\r\n        label=\"版本\"\r\n      />\r\n      <el-table-column\r\n        prop=\"name\"\r\n        sortable=\"custom\"\r\n        width=\"50\"\r\n        label=\"用户名\"\r\n      />\r\n      <el-table-column prop=\"time\" sortable=\"custom\" label=\"时间\" />\r\n      <el-table-column\r\n        label=\"操作\"\r\n        align=\"center\"\r\n        class-name=\"small-padding fixed-width\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"primary\"\r\n            @click=\"handleEdit(scope.$index, scope.row)\"\r\n            >编辑\r\n          </el-button>\r\n          <br />\r\n          <br />\r\n          <el-button\r\n            size=\"mini\"\r\n            type=\"danger\"\r\n            @click=\"handleDelete(scope.$index, scope.row)\"\r\n            >删除\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <br />\r\n    <el-pagination\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n      :current-page=\"Qlist.pagenum\"\r\n      :page-sizes=\"[10, 20, 30, 50]\"\r\n      :page-size=\"Qlist.pagesize\"\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      :total=\"total\"\r\n    >\r\n    </el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst _ = require(\"loadsh\");\r\n\r\nexport default {\r\n  name: \"version\",\r\n  data() {\r\n    return {\r\n      api: \"/version\",\r\n      totalData: [],\r\n      users: {},\r\n      Qlist: {\r\n        pagenum: 1, //当前页数\r\n        pagesize: 10,\r\n        name: \"\",\r\n        taskId: \"\",\r\n      },\r\n      total: \"\",\r\n      showBack: false,\r\n      loading: true\r\n    };\r\n  },\r\n  mounted() {\r\n    this.findUser();\r\n  },\r\n  methods: {\r\n    onSubmit() {\r\n      console.log(123434);\r\n    },\r\n    findUser() {\r\n      this.$axios.post(this.api + \"/find\").then((res) => {\r\n        this.users = _.chunk(res.data, this.Qlist.pagesize)[\r\n          this.Qlist.pagenum - 1\r\n        ];\r\n        this.totalData = res.data;\r\n        this.total = res.data.length;\r\n        this.loading = false\r\n      });\r\n    }, //获取初始数据\r\n    sortChange(data) {\r\n      const { prop, order } = data;\r\n      this.$axios.post(this.api + \"/sort\", { prop, order }).then((res) => {\r\n        console.log(\"res:\", res);\r\n        this.users = res.data;\r\n      });\r\n    }, //对各列进行排序处理\r\n    handleEdit(index, item) {\r\n      this.$router.push({ path: \"/versionEditor\", query: { _id: item._id } });\r\n    }, //编辑\r\n    handleDelete(index, item) {\r\n      this.$axios.post(this.api + \"/delete\", item).then((res) => {\r\n        console.log(\"res:\", res);\r\n        this.findUser();\r\n      });\r\n    }, //删除\r\n    handleCreate() {\r\n      this.$router.push(\"/videoEditor\");\r\n    }, //创建\r\n    //筛选部分\r\n    handleFilter() {\r\n      if (this.Qlist.name == \"\" && this.Qlist.taskId == \"\") {\r\n        this.$message.error(\"请输入查询信息\");\r\n      } else {\r\n        this.$axios.post(this.api + \"/filter\", this.Qlist).then((res) => {\r\n          console.log(\"res:\", res);\r\n          this.users = res.data;\r\n          this.showBack = true;\r\n        });\r\n      }\r\n    }, //筛选数据\r\n    closeFilter() {\r\n      this.findUser();\r\n      this.Qlist = {\r\n        pagenum: 1, //当前页数\r\n        pagesize: 20,\r\n        name: \"\",\r\n        taskId: \"\",\r\n      };\r\n      this.showBack = false;\r\n    }, //关闭筛选\r\n    // 分页部分\r\n    handleSizeChange(val) {\r\n      this.Qlist.pagesize = val;\r\n      this.users = _.chunk(this.totalData, this.Qlist.pagesize)[\r\n        this.Qlist.pagenum - 1\r\n      ];\r\n    }, // 每页查看条数变化\r\n    handleCurrentChange(val) {\r\n      this.Qlist.pagenum = val;\r\n      this.users = _.chunk(this.totalData, this.Qlist.pagesize)[\r\n        this.Qlist.pagenum - 1\r\n      ];\r\n    }, // 当前页码变化\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"]}]}