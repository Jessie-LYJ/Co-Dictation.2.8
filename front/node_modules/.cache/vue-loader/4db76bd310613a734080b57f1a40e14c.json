{"remainingRequest":"D:\\资料\\codictation.2.4\\codictation\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\资料\\codictation.2.4\\codictation\\src\\components\\basic\\Avatar.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\资料\\codictation.2.4\\codictation\\src\\components\\basic\\Avatar.vue","mtime":1616227420790},{"path":"D:\\资料\\codictation.2.4\\codictation\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\资料\\codictation.2.4\\codictation\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\资料\\codictation.2.4\\codictation\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\资料\\codictation.2.4\\codictation\\node_modules\\vue-cli-plugin-quasar\\lib\\loader.auto-import.js","mtime":499162500000},{"path":"D:\\资料\\codictation.2.4\\codictation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\资料\\codictation.2.4\\codictation\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpjYW52YXMgewogIHdpZHRoOiAzcmVtOwogIGhlaWdodDogM3JlbTsKfQo="},{"version":3,"sources":["Avatar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6KA;AACA;AACA;AACA","file":"Avatar.vue","sourceRoot":"src/components/basic","sourcesContent":["<template>\n    <canvas ref=\"canvas\"></canvas>\n</template>\n\n<script>\nexport default {\n  props: ['name'],\n  // data() {\n  //   return {\n  //     name: \"\", //当前用户的用户名\n  //   };\n  // },\n  mounted() {\n    generate(this.$refs.canvas, this.name);\n  },\n  watch: {\n    name(value) {\n      generate(this.$refs.canvas, value);\n    },\n  },\n  // created() {\n  //   this.name = sessionStorage.getItem(\"userName\");\n  // },\n};\n\nconst MULTIPLIER = 1103515245;\nconst INCREMENT = 12345;\nconst MODULUS = Math.pow(2, 31);\n\nfunction lcg(x, i = MULTIPLIER, c = INCREMENT, m = MODULUS) {\n  return (i * x + c) % m;\n}\n\nfunction createRandomizer(initialSeed = Date.now()) {\n  let seed = initialSeed;\n  function reset(newSeed = initialSeed) {\n    seed = newSeed;\n  }\n  function random() {\n    seed = lcg(seed);\n    return seed / MODULUS;\n  }\n  function randomInt(min, max) {\n    return min + Math.floor(random() * (max - min));\n  }\n  return {\n    reset,\n    random,\n    randomInt,\n  };\n}\n\nconst randomizer = createRandomizer();\n\nfunction proceduralDraw(cx, randomizer, start, draw) {\n  const total = randomizer.randomInt(4, 10);\n  const radius = cx.canvas.width >> randomizer.randomInt(1, 3);\n  for (let index = 0; index < total; index++) {\n    const angle = start + (index / total) * Math.PI * 2;\n    draw(cx, { index, total, angle, radius });\n  }\n}\n\nfunction generate(canvas, name) {\n  const cx = canvas.getContext(\"2d\");\n  if (cx.canvas.width !== cx.canvas.clientWidth) {\n    cx.canvas.width = cx.canvas.clientWidth;\n  }\n\n  if (cx.canvas.height !== cx.canvas.clientHeight) {\n    cx.canvas.height = cx.canvas.clientHeight;\n  }\n\n  const ccx = cx.canvas.width >> 1;\n  const ccy = cx.canvas.height >> 1;\n  const min = cx.canvas.width >> 6;\n  const max = cx.canvas.width >> 2;\n\n  const start = randomizer.random() * Math.PI;\n\n  cx.clearRect(0, 0, cx.canvas.width, cx.canvas.height);\n  let vowels = 0,\n    consonants = 0,\n    numbers = 0,\n    symbols = 0,\n    sum = 0,\n    seed = 0;\n\n  for (let index = 0; index < name.length; index++) {\n    const char = name.charAt(index);\n    const charCode = name.charCodeAt(index);\n    if (char.match(/[0-9]/)) {\n      numbers++;\n    } else if (char.match(/[aeiouáéíóúàèìòùäëïöüâêîôû]/)) {\n      vowels++;\n    } else if (char.match(/[_\\-@\"'#$%&\\/()=¿?¡!<>{}\\[\\]ºª\\\\'`+]/)) {\n      symbols++;\n    } else {\n      consonants++;\n    }\n    sum += charCode;\n  }\n  seed = sum >>> (numbers * vowels * symbols * consonants);\n  randomizer.reset(seed);\n  // randomizer.random()\n  const hue = randomizer.randomInt(0, 360);\n  cx.fillStyle = `hsl(${hue}, 50%, 50%)`;\n  cx.fillRect(0, 0, cx.canvas.width, cx.canvas.height);\n\n  proceduralDraw(\n    cx,\n    randomizer,\n    start,\n    (cx, { index, total, angle, radius }) => {\n      const acx = ccx + Math.cos(angle) * radius;\n      const acy = ccy + Math.sin(angle) * radius;\n      cx.beginPath();\n      cx.arc(acx, acy, cx.canvas.width >> 3, 0, Math.PI * 2);\n      cx.closePath();\n      cx.fillStyle = `hsl(${hue}, 50%, 75%)`;\n      cx.fill();\n    }\n  );\n\n  cx.beginPath();\n  proceduralDraw(\n    cx,\n    randomizer,\n    start,\n    (cx, { index, total, angle, radius }) => {\n      const acx = ccx + Math.cos(angle) * radius;\n      const acy = ccy + Math.sin(angle) * radius;\n      if (index === 0) {\n        cx.moveTo(acx, acy);\n      } else {\n        cx.lineTo(acx, acy);\n      }\n    }\n  );\n  cx.closePath();\n  cx.lineWidth = randomizer.randomInt(min, max);\n  cx.strokeStyle = `hsl(${hue}, 50%, 25%)`;\n  cx.stroke();\n\n  cx.beginPath();\n  proceduralDraw(\n    cx,\n    randomizer,\n    start,\n    (cx, { index, total, angle, radius }) => {\n      const acx = ccx + Math.cos(angle) * radius;\n      const acy = ccy + Math.sin(angle) * radius;\n      if (index === 0) {\n        cx.moveTo(acx, acy);\n      } else {\n        cx.lineTo(acx, acy);\n      }\n    }\n  );\n  cx.closePath();\n  cx.lineWidth = randomizer.randomInt(min, max);\n  cx.strokeStyle = `hsl(${hue}, 50%, 60%)`;\n  cx.stroke();\n\n  cx.beginPath();\n  cx.arc(ccx, ccy, randomizer.randomInt(min, max), 0, Math.PI * 2);\n  cx.closePath();\n  cx.fillStyle = `hsl(${hue}, 50%, ${randomizer.randomInt(30, 70)}%)`;\n  cx.fill();\n}\n</script>\n\n<style>\ncanvas {\n  width: 3rem;\n  height: 3rem;\n}\n</style>\n"]}]}