{"remainingRequest":"D:\\project\\codictation.2.7\\codictation\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\codictation.2.7\\codictation\\src\\components\\reference.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\codictation.2.7\\codictation\\src\\components\\reference.vue","mtime":1616763046901},{"path":"D:\\project\\codictation.2.7\\codictation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\codictation.2.7\\codictation\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\project\\codictation.2.7\\codictation\\node_modules\\vue-cli-plugin-quasar\\lib\\loader.transform-quasar-imports.js","mtime":499162500000},{"path":"D:\\project\\codictation.2.7\\codictation\\node_modules\\vue-cli-plugin-quasar\\lib\\loader.auto-import.js","mtime":499162500000},{"path":"D:\\project\\codictation.2.7\\codictation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\codictation.2.7\\codictation\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBIZWFkZXIgZnJvbSAiLi9iYXNpYy9IZWFkZXIudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBuYW1lOiAiIiwKICAgICAgZGlmZklkOiAiIiwKICAgICAgcHVibGlzaGVyOiAiIiwKICAgICAgcmVmZXJlbmNlOiAiIiwKICAgICAgbXlSZWZlcmVuY2U6ICIiLAogICAgICBpc1Nob3dCOiBmYWxzZSwKICAgICAgaXNTaG93UjogZmFsc2UsCiAgICAgIGFwaTogIi9hcGkiLAogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEhlYWRlciwKICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdFJlZmVyKCkgewogICAgICB0aGlzLiRheGlvcy5wb3N0KHRoaXMuYXBpICsgIi91cGRhdGVSZWZlcmVuY2UiLCB7CiAgICAgICAgLy/mlbDmja7mm7TmlrAKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIF9pZDogdGhpcy5kaWZmSWQsCiAgICAgICAgICByZWZlcmVuY2U6IHRoaXMubXlSZWZlcmVuY2UudHJpbSgpLAogICAgICAgIH0sCiAgICAgIH0pOwogICAgICB0aGlzLmlzU2hvd1IgPSB0cnVlOwogICAgICB0aGlzLnJlZmVyZW5jZSA9IHRoaXMubXlSZWZlcmVuY2U7IC8v5ZCO5pyf5Y+v5pS55oiQ5LuO5pWw5o2u5bqT5Y+W5pWw5o2uCiAgICAgIHRoaXMubXlSZWZlcmVuY2UgPSAiIjsKICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5uYW1lID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlck5hbWUiKTsKICAgIHRoaXMuZGlmZklkID0gdGhpcy4kcm91dGUucGFyYW1zLmRpZmZJZDsKICAgIC8v6K+35rGC5pWw5o2uCiAgICB0aGlzLiRheGlvcwogICAgICAuZ2V0KHRoaXMuYXBpICsgIi9jdXJyZW50VGFzaz9faWQ9IiArIHRoaXMuZGlmZklkKQogICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgdGhpcy5wdWJsaXNoZXIgPSByZXMuZGF0YVswXS5wdWJsaXNoZXI7CiAgICAgICAgdGhpcy5yZWZlcmVuY2UgPSByZXMuZGF0YVswXS5yZWZlcmVuY2U7CiAgICAgICAgaWYgKHRoaXMucHVibGlzaGVyID09IHRoaXMubmFtZSkgewogICAgICAgICAgdGhpcy5pc1Nob3dCID0gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMucmVmZXJlbmNlLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHRoaXMuaXNTaG93UiA9IHRydWU7CiAgICAgICAgfQogICAgICB9KTsKICB9LAp9Owo="},{"version":3,"sources":["reference.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"reference.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div style=\"max-width: 900px; margin-left:150px; margin-top:70px\">\n    <div v-if=\"isShowR\" style=\"width: 600px; margin-left:150px; margin-top:70px\">\n      <span style=\"font-size:20px\">References:</span> \n      <q-card class=\"bg-purple-1 box-card\">\n      <q-card-section>\n        <div style=\"word-break: break-all !important;\">{{ reference }}</div>\n      </q-card-section>\n    </q-card>\n    </div>\n    <div v-else style=\"max-width: 900px; margin-left:150px; margin-top:70px; font-size: 20px\">No references yet...</div>\n    <br />\n    <div class=\"q-pa-md\" style=\"max-width: 900px; margin-left:130px; margin-top:30px\" v-if=\"isShowB\">\n      <q-input v-model=\"myReference\" filled type=\"textarea\"/>\n      <br />\n      <q-btn\n        color=\"purple\"\n        label=\"Submit\"\n        @click=\"submitRefer()\"\n        style=\"margin-left: 89%\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport Header from \"./basic/Header.vue\";\nexport default {\n  data() {\n    return {\n      name: \"\",\n      diffId: \"\",\n      publisher: \"\",\n      reference: \"\",\n      myReference: \"\",\n      isShowB: false,\n      isShowR: false,\n      api: \"/api\",\n    };\n  },\n  components: {\n    Header,\n  },\n  methods: {\n    submitRefer() {\n      this.$axios.post(this.api + \"/updateReference\", {\n        //数据更新\n        params: {\n          _id: this.diffId,\n          reference: this.myReference.trim(),\n        },\n      });\n      this.isShowR = true;\n      this.reference = this.myReference; //后期可改成从数据库取数据\n      this.myReference = \"\";\n    },\n  },\n  created() {\n    this.name = sessionStorage.getItem(\"userName\");\n    this.diffId = this.$route.params.diffId;\n    //请求数据\n    this.$axios\n      .get(this.api + \"/currentTask?_id=\" + this.diffId)\n      .then((res) => {\n        this.publisher = res.data[0].publisher;\n        this.reference = res.data[0].reference;\n        if (this.publisher == this.name) {\n          this.isShowB = true;\n        }\n        if (this.reference.length > 0) {\n          this.isShowR = true;\n        }\n      });\n  },\n};\n</script>\n\n<style>\n.box-card {\n  padding: 18px 0;\n}\n</style>"]}]}