{"remainingRequest":"F:\\codictation\\collection\\final project\\codictation\\codictation2.0\\codictation.2.2\\codictation\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\codictation\\collection\\final project\\codictation\\codictation2.0\\codictation.2.2\\codictation\\src\\components\\reference.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\codictation\\collection\\final project\\codictation\\codictation2.0\\codictation.2.2\\codictation\\src\\components\\reference.vue","mtime":1615344204404},{"path":"F:\\codictation\\collection\\final project\\codictation\\codictation2.0\\codictation.2.2\\codictation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\codictation\\collection\\final project\\codictation\\codictation2.0\\codictation.2.2\\codictation\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\codictation\\collection\\final project\\codictation\\codictation2.0\\codictation.2.2\\codictation\\node_modules\\vue-cli-plugin-quasar\\lib\\loader.transform-quasar-imports.js","mtime":499162500000},{"path":"F:\\codictation\\collection\\final project\\codictation\\codictation2.0\\codictation.2.2\\codictation\\node_modules\\vue-cli-plugin-quasar\\lib\\loader.auto-import.js","mtime":499162500000},{"path":"F:\\codictation\\collection\\final project\\codictation\\codictation2.0\\codictation.2.2\\codictation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\codictation\\collection\\final project\\codictation\\codictation2.0\\codictation.2.2\\codictation\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbmFtZTogIiIsCiAgICAgIGRpZmZJZDogIiIsCiAgICAgIHB1Ymxpc2hlcjogIiIsCiAgICAgIHJlZmVyZW5jZTogIiIsCiAgICAgIG15UmVmZXJlbmNlOiAiIiwKICAgICAgaXNTaG93QjogZmFsc2UsCiAgICAgIGlzU2hvd1I6IGZhbHNlLAogICAgICBhcGk6ICIvYXBpIiwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXRSZWZlcigpIHsKICAgICAgdGhpcy4kYXhpb3MucG9zdCh0aGlzLmFwaSArICIvdXBkYXRlUmVmZXJlbmNlIiwgewogICAgICAgIC8v5pWw5o2u5pu05pawCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBfaWQ6IHRoaXMuZGlmZklkLAogICAgICAgICAgcmVmZXJlbmNlOiB0aGlzLm15UmVmZXJlbmNlLnRyaW0oKSwKICAgICAgICB9LAogICAgICB9KTsKICAgICAgdGhpcy5pc1Nob3dSID0gdHJ1ZTsKICAgICAgdGhpcy5yZWZlcmVuY2UgPSB0aGlzLm15UmVmZXJlbmNlOyAvL+WQjuacn+WPr+aUueaIkOS7juaVsOaNruW6k+WPluaVsOaNrgogICAgICB0aGlzLm15UmVmZXJlbmNlID0gIiI7CiAgICB9LAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMubmFtZSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXJOYW1lIik7CiAgICB0aGlzLmRpZmZJZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5kaWZmSWQ7CiAgICAvL+ivt+axguaVsOaNrgogICAgdGhpcy4kYXhpb3MKICAgICAgLmdldCh0aGlzLmFwaSArICIvY3VycmVudFRhc2s/X2lkPSIgKyB0aGlzLmRpZmZJZCkKICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgIHRoaXMucHVibGlzaGVyID0gcmVzLmRhdGFbMF0ucHVibGlzaGVyOwogICAgICAgIHRoaXMucmVmZXJlbmNlID0gcmVzLmRhdGFbMF0ucmVmZXJlbmNlOwogICAgICAgIGlmICh0aGlzLnB1Ymxpc2hlciA9PSB0aGlzLm5hbWUpIHsKICAgICAgICAgIHRoaXMuaXNTaG93QiA9IHRydWU7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLnJlZmVyZW5jZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICB0aGlzLmlzU2hvd1IgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSk7CiAgfSwKfTsK"},{"version":3,"sources":["reference.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"reference.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div style=\"margin-top: 5%\">\n    <div v-if=\"isShowR\">\n      参考版本：\n      <el-card class=\"box-card\" shadow=\"hover\">\n        {{ reference }}\n      </el-card>\n    </div>\n    <div v-else>当前任务发布者未提供参考版本~</div>\n    <br />\n    <div v-if=\"isShowB\">\n      <el-input\n        type=\"textarea\"\n        v-model=\"myReference\"\n        :rows=\"4\"\n        :autosize=\"{ minRows: 4, maxRows: 15 }\"\n        style=\"width:60%\"\n      ></el-input>\n      <br />\n      <el-button type=\"primary\" @click=\"submitRefer()\">发布</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      name: \"\",\n      diffId: \"\",\n      publisher: \"\",\n      reference: \"\",\n      myReference: \"\",\n      isShowB: false,\n      isShowR: false,\n      api: \"/api\",\n    };\n  },\n  methods: {\n    submitRefer() {\n      this.$axios.post(this.api + \"/updateReference\", {\n        //数据更新\n        params: {\n          _id: this.diffId,\n          reference: this.myReference.trim(),\n        },\n      });\n      this.isShowR = true;\n      this.reference = this.myReference; //后期可改成从数据库取数据\n      this.myReference = \"\";\n    },\n  },\n  created() {\n    this.name = sessionStorage.getItem(\"userName\");\n    this.diffId = this.$route.params.diffId;\n    //请求数据\n    this.$axios\n      .get(this.api + \"/currentTask?_id=\" + this.diffId)\n      .then((res) => {\n        this.publisher = res.data[0].publisher;\n        this.reference = res.data[0].reference;\n        if (this.publisher == this.name) {\n          this.isShowB = true;\n        }\n        if (this.reference.length > 0) {\n          this.isShowR = true;\n        }\n      });\n  },\n};\n</script>\n\n<style>\n.box-card {\n  width: 600px;\n  padding: 18px 0;\n}\n</style>"]}]}