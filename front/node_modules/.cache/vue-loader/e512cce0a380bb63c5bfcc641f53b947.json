{"remainingRequest":"D:\\project\\codictation.2.7\\codictation\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\codictation.2.7\\codictation\\src\\components\\reference.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\project\\codictation.2.7\\codictation\\src\\components\\reference.vue","mtime":1616763046901},{"path":"D:\\project\\codictation.2.7\\codictation\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\codictation.2.7\\codictation\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\project\\codictation.2.7\\codictation\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\project\\codictation.2.7\\codictation\\node_modules\\vue-cli-plugin-quasar\\lib\\loader.auto-import.js","mtime":499162500000},{"path":"D:\\project\\codictation.2.7\\codictation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\codictation.2.7\\codictation\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmJveC1jYXJkIHsKICBwYWRkaW5nOiAxOHB4IDA7Cn0K"},{"version":3,"sources":["reference.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EA;AACA;AACA","file":"reference.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div style=\"max-width: 900px; margin-left:150px; margin-top:70px\">\n    <div v-if=\"isShowR\" style=\"width: 600px; margin-left:150px; margin-top:70px\">\n      <span style=\"font-size:20px\">References:</span> \n      <q-card class=\"bg-purple-1 box-card\">\n      <q-card-section>\n        <div style=\"word-break: break-all !important;\">{{ reference }}</div>\n      </q-card-section>\n    </q-card>\n    </div>\n    <div v-else style=\"max-width: 900px; margin-left:150px; margin-top:70px; font-size: 20px\">No references yet...</div>\n    <br />\n    <div class=\"q-pa-md\" style=\"max-width: 900px; margin-left:130px; margin-top:30px\" v-if=\"isShowB\">\n      <q-input v-model=\"myReference\" filled type=\"textarea\"/>\n      <br />\n      <q-btn\n        color=\"purple\"\n        label=\"Submit\"\n        @click=\"submitRefer()\"\n        style=\"margin-left: 89%\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport Header from \"./basic/Header.vue\";\nexport default {\n  data() {\n    return {\n      name: \"\",\n      diffId: \"\",\n      publisher: \"\",\n      reference: \"\",\n      myReference: \"\",\n      isShowB: false,\n      isShowR: false,\n      api: \"/api\",\n    };\n  },\n  components: {\n    Header,\n  },\n  methods: {\n    submitRefer() {\n      this.$axios.post(this.api + \"/updateReference\", {\n        //数据更新\n        params: {\n          _id: this.diffId,\n          reference: this.myReference.trim(),\n        },\n      });\n      this.isShowR = true;\n      this.reference = this.myReference; //后期可改成从数据库取数据\n      this.myReference = \"\";\n    },\n  },\n  created() {\n    this.name = sessionStorage.getItem(\"userName\");\n    this.diffId = this.$route.params.diffId;\n    //请求数据\n    this.$axios\n      .get(this.api + \"/currentTask?_id=\" + this.diffId)\n      .then((res) => {\n        this.publisher = res.data[0].publisher;\n        this.reference = res.data[0].reference;\n        if (this.publisher == this.name) {\n          this.isShowB = true;\n        }\n        if (this.reference.length > 0) {\n          this.isShowR = true;\n        }\n      });\n  },\n};\n</script>\n\n<style>\n.box-card {\n  padding: 18px 0;\n}\n</style>"]}]}