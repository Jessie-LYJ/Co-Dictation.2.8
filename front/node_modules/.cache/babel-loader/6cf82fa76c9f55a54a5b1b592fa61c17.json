{"remainingRequest":"D:\\资料\\codictation.2.2\\codictation\\node_modules\\babel-loader\\lib\\index.js!D:\\资料\\codictation.2.2\\codictation\\node_modules\\vue-cli-plugin-quasar\\lib\\loader.transform-quasar-imports.js!D:\\资料\\codictation.2.2\\codictation\\node_modules\\quasar\\src\\directives\\TouchSwipe.js","dependencies":[{"path":"D:\\资料\\codictation.2.2\\codictation\\node_modules\\quasar\\src\\directives\\TouchSwipe.js","mtime":499162500000},{"path":"D:\\资料\\codictation.2.2\\codictation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\资料\\codictation.2.2\\codictation\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\资料\\codictation.2.2\\codictation\\node_modules\\vue-cli-plugin-quasar\\lib\\loader.transform-quasar-imports.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0IHsgY2xpZW50IH0gZnJvbSAnLi4vcGx1Z2lucy9QbGF0Zm9ybS5qcyc7CmltcG9ydCB7IGdldE1vZGlmaWVyRGlyZWN0aW9ucywgZ2V0VG91Y2hUYXJnZXQsIHNob3VsZFN0YXJ0IH0gZnJvbSAnLi4vdXRpbHMvdG91Y2guanMnOwppbXBvcnQgeyBhZGRFdnQsIGNsZWFuRXZ0LCBwb3NpdGlvbiwgbGVmdENsaWNrLCBzdG9wQW5kUHJldmVudCwgcHJldmVudERyYWdnYWJsZSwgbm9vcCB9IGZyb20gJy4uL3V0aWxzL2V2ZW50LmpzJzsKaW1wb3J0IHsgY2xlYXJTZWxlY3Rpb24gfSBmcm9tICcuLi91dGlscy9zZWxlY3Rpb24uanMnOwoKZnVuY3Rpb24gcGFyc2VBcmcoYXJnKSB7CiAgLy8gZGVsdGEgKG1pbiB2ZWxvY2l0eSAtLSBkaXN0IC8gdGltZSkKICAvLyBtb2JpbGUgbWluIGRpc3RhbmNlIG9uIGZpcnN0IG1vdmUKICAvLyBkZXNrdG9wIG1pbiBkaXN0YW5jZSB1bnRpbCBkZWNpZGluZyBpZiBpdCdzIGEgc3dpcGUgb3Igbm90CiAgdmFyIGRhdGEgPSBbMC4wNiwgNiwgNTBdOwoKICBpZiAodHlwZW9mIGFyZyA9PT0gJ3N0cmluZycgJiYgYXJnLmxlbmd0aCkgewogICAgYXJnLnNwbGl0KCc6JykuZm9yRWFjaChmdW5jdGlvbiAodmFsLCBpbmRleCkgewogICAgICB2YXIgdiA9IHBhcnNlRmxvYXQodmFsKTsKICAgICAgdiAmJiAoZGF0YVtpbmRleF0gPSB2KTsKICAgIH0pOwogIH0KCiAgcmV0dXJuIGRhdGE7Cn0KCmZ1bmN0aW9uIGRlc3Ryb3koZWwpIHsKICB2YXIgY3R4ID0gZWwuX19xdG91Y2hzd2lwZTsKCiAgaWYgKGN0eCAhPT0gdm9pZCAwKSB7CiAgICBjbGVhbkV2dChjdHgsICdtYWluJyk7CiAgICBjbGVhbkV2dChjdHgsICd0ZW1wJyk7CiAgICBjbGllbnQuaXMuZmlyZWZveCA9PT0gdHJ1ZSAmJiBwcmV2ZW50RHJhZ2dhYmxlKGVsLCBmYWxzZSk7CiAgICBjdHguc3R5bGVDbGVhbnVwICE9PSB2b2lkIDAgJiYgY3R4LnN0eWxlQ2xlYW51cCgpOwogICAgZGVsZXRlIGVsLl9fcXRvdWNoc3dpcGU7CiAgfQp9CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3RvdWNoLXN3aXBlJywKICBiaW5kOiBmdW5jdGlvbiBiaW5kKGVsLCBfcmVmKSB7CiAgICB2YXIgdmFsdWUgPSBfcmVmLnZhbHVlLAogICAgICAgIGFyZyA9IF9yZWYuYXJnLAogICAgICAgIG1vZGlmaWVycyA9IF9yZWYubW9kaWZpZXJzOwoKICAgIGlmIChlbC5fX3F0b3VjaHN3aXBlICE9PSB2b2lkIDApIHsKICAgICAgZGVzdHJveShlbCk7CiAgICAgIGVsLl9fcXRvdWNoc3dpcGVfZGVzdHJveWVkID0gdHJ1ZTsKICAgIH0gLy8gZWFybHkgcmV0dXJuLCB3ZSBkb24ndCBuZWVkIHRvIGRvIGFueXRoaW5nCgoKICAgIGlmIChtb2RpZmllcnMubW91c2UgIT09IHRydWUgJiYgY2xpZW50Lmhhcy50b3VjaCAhPT0gdHJ1ZSkgewogICAgICByZXR1cm47CiAgICB9CgogICAgdmFyIG1vdXNlQ2FwdHVyZSA9IG1vZGlmaWVycy5tb3VzZUNhcHR1cmUgPT09IHRydWUgPyAnQ2FwdHVyZScgOiAnJzsKICAgIHZhciBjdHggPSB7CiAgICAgIGhhbmRsZXI6IHZhbHVlLAogICAgICBzZW5zaXRpdml0eTogcGFyc2VBcmcoYXJnKSwKICAgICAgbW9kaWZpZXJzOiBtb2RpZmllcnMsCiAgICAgIGRpcmVjdGlvbjogZ2V0TW9kaWZpZXJEaXJlY3Rpb25zKG1vZGlmaWVycyksCiAgICAgIG5vb3A6IG5vb3AsCiAgICAgIG1vdXNlU3RhcnQ6IGZ1bmN0aW9uIG1vdXNlU3RhcnQoZXZ0KSB7CiAgICAgICAgaWYgKHNob3VsZFN0YXJ0KGV2dCwgY3R4KSAmJiBsZWZ0Q2xpY2soZXZ0KSkgewogICAgICAgICAgYWRkRXZ0KGN0eCwgJ3RlbXAnLCBbW2RvY3VtZW50LCAnbW91c2Vtb3ZlJywgJ21vdmUnLCAibm90UGFzc2l2ZSIuY29uY2F0KG1vdXNlQ2FwdHVyZSldLCBbZG9jdW1lbnQsICdtb3VzZXVwJywgJ2VuZCcsICdub3RQYXNzaXZlQ2FwdHVyZSddXSk7CiAgICAgICAgICBjdHguc3RhcnQoZXZ0LCB0cnVlKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHRvdWNoU3RhcnQ6IGZ1bmN0aW9uIHRvdWNoU3RhcnQoZXZ0KSB7CiAgICAgICAgaWYgKHNob3VsZFN0YXJ0KGV2dCwgY3R4KSkgewogICAgICAgICAgdmFyIHRhcmdldCA9IGdldFRvdWNoVGFyZ2V0KGV2dC50YXJnZXQpOwogICAgICAgICAgYWRkRXZ0KGN0eCwgJ3RlbXAnLCBbW3RhcmdldCwgJ3RvdWNobW92ZScsICdtb3ZlJywgJ25vdFBhc3NpdmVDYXB0dXJlJ10sIFt0YXJnZXQsICd0b3VjaGNhbmNlbCcsICdlbmQnLCAnbm90UGFzc2l2ZUNhcHR1cmUnXSwgW3RhcmdldCwgJ3RvdWNoZW5kJywgJ2VuZCcsICdub3RQYXNzaXZlQ2FwdHVyZSddXSk7CiAgICAgICAgICBjdHguc3RhcnQoZXZ0KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydChldnQsIG1vdXNlRXZlbnQpIHsKICAgICAgICBjbGllbnQuaXMuZmlyZWZveCA9PT0gdHJ1ZSAmJiBwcmV2ZW50RHJhZ2dhYmxlKGVsLCB0cnVlKTsKICAgICAgICB2YXIgcG9zID0gcG9zaXRpb24oZXZ0KTsKICAgICAgICBjdHguZXZlbnQgPSB7CiAgICAgICAgICB4OiBwb3MubGVmdCwKICAgICAgICAgIHk6IHBvcy50b3AsCiAgICAgICAgICB0aW1lOiBEYXRlLm5vdygpLAogICAgICAgICAgbW91c2U6IG1vdXNlRXZlbnQgPT09IHRydWUsCiAgICAgICAgICBkaXI6IGZhbHNlCiAgICAgICAgfTsKICAgICAgfSwKICAgICAgbW92ZTogZnVuY3Rpb24gbW92ZShldnQpIHsKICAgICAgICBpZiAoY3R4LmV2ZW50ID09PSB2b2lkIDApIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmIChjdHguZXZlbnQuZGlyICE9PSBmYWxzZSkgewogICAgICAgICAgc3RvcEFuZFByZXZlbnQoZXZ0KTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciB0aW1lID0gRGF0ZS5ub3coKSAtIGN0eC5ldmVudC50aW1lOwoKICAgICAgICBpZiAodGltZSA9PT0gMCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFyIHBvcyA9IHBvc2l0aW9uKGV2dCksCiAgICAgICAgICAgIGRpc3RYID0gcG9zLmxlZnQgLSBjdHguZXZlbnQueCwKICAgICAgICAgICAgYWJzWCA9IE1hdGguYWJzKGRpc3RYKSwKICAgICAgICAgICAgZGlzdFkgPSBwb3MudG9wIC0gY3R4LmV2ZW50LnksCiAgICAgICAgICAgIGFic1kgPSBNYXRoLmFicyhkaXN0WSk7CgogICAgICAgIGlmIChjdHguZXZlbnQubW91c2UgIT09IHRydWUpIHsKICAgICAgICAgIGlmIChhYnNYIDwgY3R4LnNlbnNpdGl2aXR5WzFdICYmIGFic1kgPCBjdHguc2Vuc2l0aXZpdHlbMV0pIHsKICAgICAgICAgICAgY3R4LmVuZChldnQpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChhYnNYIDwgY3R4LnNlbnNpdGl2aXR5WzJdICYmIGFic1kgPCBjdHguc2Vuc2l0aXZpdHlbMl0pIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciB2ZWxYID0gYWJzWCAvIHRpbWUsCiAgICAgICAgICAgIHZlbFkgPSBhYnNZIC8gdGltZTsKCiAgICAgICAgaWYgKGN0eC5kaXJlY3Rpb24udmVydGljYWwgPT09IHRydWUgJiYgYWJzWCA8IGFic1kgJiYgYWJzWCA8IDEwMCAmJiB2ZWxZID4gY3R4LnNlbnNpdGl2aXR5WzBdKSB7CiAgICAgICAgICBjdHguZXZlbnQuZGlyID0gZGlzdFkgPCAwID8gJ3VwJyA6ICdkb3duJzsKICAgICAgICB9CgogICAgICAgIGlmIChjdHguZGlyZWN0aW9uLmhvcml6b250YWwgPT09IHRydWUgJiYgYWJzWCA+IGFic1kgJiYgYWJzWSA8IDEwMCAmJiB2ZWxYID4gY3R4LnNlbnNpdGl2aXR5WzBdKSB7CiAgICAgICAgICBjdHguZXZlbnQuZGlyID0gZGlzdFggPCAwID8gJ2xlZnQnIDogJ3JpZ2h0JzsKICAgICAgICB9CgogICAgICAgIGlmIChjdHguZGlyZWN0aW9uLnVwID09PSB0cnVlICYmIGFic1ggPCBhYnNZICYmIGRpc3RZIDwgMCAmJiBhYnNYIDwgMTAwICYmIHZlbFkgPiBjdHguc2Vuc2l0aXZpdHlbMF0pIHsKICAgICAgICAgIGN0eC5ldmVudC5kaXIgPSAndXAnOwogICAgICAgIH0KCiAgICAgICAgaWYgKGN0eC5kaXJlY3Rpb24uZG93biA9PT0gdHJ1ZSAmJiBhYnNYIDwgYWJzWSAmJiBkaXN0WSA+IDAgJiYgYWJzWCA8IDEwMCAmJiB2ZWxZID4gY3R4LnNlbnNpdGl2aXR5WzBdKSB7CiAgICAgICAgICBjdHguZXZlbnQuZGlyID0gJ2Rvd24nOwogICAgICAgIH0KCiAgICAgICAgaWYgKGN0eC5kaXJlY3Rpb24ubGVmdCA9PT0gdHJ1ZSAmJiBhYnNYID4gYWJzWSAmJiBkaXN0WCA8IDAgJiYgYWJzWSA8IDEwMCAmJiB2ZWxYID4gY3R4LnNlbnNpdGl2aXR5WzBdKSB7CiAgICAgICAgICBjdHguZXZlbnQuZGlyID0gJ2xlZnQnOwogICAgICAgIH0KCiAgICAgICAgaWYgKGN0eC5kaXJlY3Rpb24ucmlnaHQgPT09IHRydWUgJiYgYWJzWCA+IGFic1kgJiYgZGlzdFggPiAwICYmIGFic1kgPCAxMDAgJiYgdmVsWCA+IGN0eC5zZW5zaXRpdml0eVswXSkgewogICAgICAgICAgY3R4LmV2ZW50LmRpciA9ICdyaWdodCc7CiAgICAgICAgfQoKICAgICAgICBpZiAoY3R4LmV2ZW50LmRpciAhPT0gZmFsc2UpIHsKICAgICAgICAgIHN0b3BBbmRQcmV2ZW50KGV2dCk7CgogICAgICAgICAgaWYgKGN0eC5ldmVudC5tb3VzZSA9PT0gdHJ1ZSkgewogICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ25vLXBvaW50ZXItZXZlbnRzLS1jaGlsZHJlbicpOwogICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ25vbi1zZWxlY3RhYmxlJyk7CiAgICAgICAgICAgIGNsZWFyU2VsZWN0aW9uKCk7CgogICAgICAgICAgICBjdHguc3R5bGVDbGVhbnVwID0gZnVuY3Rpb24gKHdpdGhEZWxheSkgewogICAgICAgICAgICAgIGN0eC5zdHlsZUNsZWFudXAgPSB2b2lkIDA7CiAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdub24tc2VsZWN0YWJsZScpOwoKICAgICAgICAgICAgICB2YXIgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkgewogICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCduby1wb2ludGVyLWV2ZW50cy0tY2hpbGRyZW4nKTsKICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICBpZiAod2l0aERlbGF5ID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHJlbW92ZSwgNTApOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZW1vdmUoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgICB9CgogICAgICAgICAgY3R4LmhhbmRsZXIoewogICAgICAgICAgICBldnQ6IGV2dCwKICAgICAgICAgICAgdG91Y2g6IGN0eC5ldmVudC5tb3VzZSAhPT0gdHJ1ZSwKICAgICAgICAgICAgbW91c2U6IGN0eC5ldmVudC5tb3VzZSwKICAgICAgICAgICAgZGlyZWN0aW9uOiBjdHguZXZlbnQuZGlyLAogICAgICAgICAgICBkdXJhdGlvbjogdGltZSwKICAgICAgICAgICAgZGlzdGFuY2U6IHsKICAgICAgICAgICAgICB4OiBhYnNYLAogICAgICAgICAgICAgIHk6IGFic1kKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGN0eC5lbmQoZXZ0KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGVuZDogZnVuY3Rpb24gZW5kKGV2dCkgewogICAgICAgIGlmIChjdHguZXZlbnQgPT09IHZvaWQgMCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgY2xlYW5FdnQoY3R4LCAndGVtcCcpOwogICAgICAgIGNsaWVudC5pcy5maXJlZm94ID09PSB0cnVlICYmIHByZXZlbnREcmFnZ2FibGUoZWwsIGZhbHNlKTsKICAgICAgICBjdHguc3R5bGVDbGVhbnVwICE9PSB2b2lkIDAgJiYgY3R4LnN0eWxlQ2xlYW51cCh0cnVlKTsKICAgICAgICBldnQgIT09IHZvaWQgMCAmJiBjdHguZXZlbnQuZGlyICE9PSBmYWxzZSAmJiBzdG9wQW5kUHJldmVudChldnQpOwogICAgICAgIGN0eC5ldmVudCA9IHZvaWQgMDsKICAgICAgfQogICAgfTsKICAgIGVsLl9fcXRvdWNoc3dpcGUgPSBjdHg7CiAgICBtb2RpZmllcnMubW91c2UgPT09IHRydWUgJiYgYWRkRXZ0KGN0eCwgJ21haW4nLCBbW2VsLCAnbW91c2Vkb3duJywgJ21vdXNlU3RhcnQnLCAicGFzc2l2ZSIuY29uY2F0KG1vdXNlQ2FwdHVyZSldXSk7CiAgICBjbGllbnQuaGFzLnRvdWNoID09PSB0cnVlICYmIGFkZEV2dChjdHgsICdtYWluJywgW1tlbCwgJ3RvdWNoc3RhcnQnLCAndG91Y2hTdGFydCcsICJwYXNzaXZlIi5jb25jYXQobW9kaWZpZXJzLmNhcHR1cmUgPT09IHRydWUgPyAnQ2FwdHVyZScgOiAnJyldLCBbZWwsICd0b3VjaG1vdmUnLCAnbm9vcCcsICJub3RQYXNzaXZlQ2FwdHVyZSJdXSk7CiAgfSwKICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShlbCwgX3JlZjIpIHsKICAgIHZhciBvbGRWYWx1ZSA9IF9yZWYyLm9sZFZhbHVlLAogICAgICAgIHZhbHVlID0gX3JlZjIudmFsdWU7CiAgICB2YXIgY3R4ID0gZWwuX19xdG91Y2hzd2lwZTsKCiAgICBpZiAoY3R4ICE9PSB2b2lkIDAgJiYgb2xkVmFsdWUgIT09IHZhbHVlKSB7CiAgICAgIHR5cGVvZiB2YWx1ZSAhPT0gJ2Z1bmN0aW9uJyAmJiBjdHguZW5kKCk7CiAgICAgIGN0eC5oYW5kbGVyID0gdmFsdWU7CiAgICB9CiAgfSwKICB1bmJpbmQ6IGZ1bmN0aW9uIHVuYmluZChlbCkgewogICAgaWYgKGVsLl9fcXRvdWNoc3dpcGVfZGVzdHJveWVkID09PSB2b2lkIDApIHsKICAgICAgZGVzdHJveShlbCk7CiAgICB9IGVsc2UgewogICAgICBkZWxldGUgZWwuX19xdG91Y2hzd2lwZV9kZXN0cm95ZWQ7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["D:/资料/codictation.2.2/codictation/node_modules/quasar/src/directives/TouchSwipe.js"],"names":["client","getModifierDirections","getTouchTarget","shouldStart","addEvt","cleanEvt","position","leftClick","stopAndPrevent","preventDraggable","noop","clearSelection","parseArg","arg","data","length","split","forEach","val","index","v","parseFloat","destroy","el","ctx","__qtouchswipe","is","firefox","styleCleanup","name","bind","value","modifiers","__qtouchswipe_destroyed","mouse","has","touch","mouseCapture","handler","sensitivity","direction","mouseStart","evt","document","start","touchStart","target","mouseEvent","pos","event","x","left","y","top","time","Date","now","dir","move","distX","absX","Math","abs","distY","absY","end","velX","velY","vertical","horizontal","up","down","right","body","classList","add","withDelay","remove","setTimeout","duration","distance","capture","update","oldValue","unbind"],"mappings":"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","sourcesContent":["import { client } from '../plugins/Platform.js'\nimport { getModifierDirections, getTouchTarget, shouldStart } from '../utils/touch.js'\nimport { addEvt, cleanEvt, position, leftClick, stopAndPrevent, preventDraggable, noop } from '../utils/event.js'\nimport { clearSelection } from '../utils/selection.js'\n\nfunction parseArg (arg) {\n  // delta (min velocity -- dist / time)\n  // mobile min distance on first move\n  // desktop min distance until deciding if it's a swipe or not\n  const data = [0.06, 6, 50]\n\n  if (typeof arg === 'string' && arg.length) {\n    arg.split(':').forEach((val, index) => {\n      const v = parseFloat(val)\n      v && (data[index] = v)\n    })\n  }\n\n  return data\n}\n\nfunction destroy (el) {\n  const ctx = el.__qtouchswipe\n\n  if (ctx !== void 0) {\n    cleanEvt(ctx, 'main')\n    cleanEvt(ctx, 'temp')\n\n    client.is.firefox === true && preventDraggable(el, false)\n    ctx.styleCleanup !== void 0 && ctx.styleCleanup()\n\n    delete el.__qtouchswipe\n  }\n}\n\nexport default {\n  name: 'touch-swipe',\n\n  bind (el, { value, arg, modifiers }) {\n    if (el.__qtouchswipe !== void 0) {\n      destroy(el)\n      el.__qtouchswipe_destroyed = true\n    }\n\n    // early return, we don't need to do anything\n    if (modifiers.mouse !== true && client.has.touch !== true) {\n      return\n    }\n\n    const mouseCapture = modifiers.mouseCapture === true ? 'Capture' : ''\n\n    const ctx = {\n      handler: value,\n      sensitivity: parseArg(arg),\n\n      modifiers: modifiers,\n      direction: getModifierDirections(modifiers),\n\n      noop,\n\n      mouseStart (evt) {\n        if (shouldStart(evt, ctx) && leftClick(evt)) {\n          addEvt(ctx, 'temp', [\n            [ document, 'mousemove', 'move', `notPassive${mouseCapture}` ],\n            [ document, 'mouseup', 'end', 'notPassiveCapture' ]\n          ])\n          ctx.start(evt, true)\n        }\n      },\n\n      touchStart (evt) {\n        if (shouldStart(evt, ctx)) {\n          const target = getTouchTarget(evt.target)\n          addEvt(ctx, 'temp', [\n            [ target, 'touchmove', 'move', 'notPassiveCapture' ],\n            [ target, 'touchcancel', 'end', 'notPassiveCapture' ],\n            [ target, 'touchend', 'end', 'notPassiveCapture' ]\n          ])\n          ctx.start(evt)\n        }\n      },\n\n      start (evt, mouseEvent) {\n        client.is.firefox === true && preventDraggable(el, true)\n\n        const pos = position(evt)\n\n        ctx.event = {\n          x: pos.left,\n          y: pos.top,\n          time: Date.now(),\n          mouse: mouseEvent === true,\n          dir: false\n        }\n      },\n\n      move (evt) {\n        if (ctx.event === void 0) {\n          return\n        }\n\n        if (ctx.event.dir !== false) {\n          stopAndPrevent(evt)\n          return\n        }\n\n        const time = Date.now() - ctx.event.time\n\n        if (time === 0) {\n          return\n        }\n\n        const\n          pos = position(evt),\n          distX = pos.left - ctx.event.x,\n          absX = Math.abs(distX),\n          distY = pos.top - ctx.event.y,\n          absY = Math.abs(distY)\n\n        if (ctx.event.mouse !== true) {\n          if (absX < ctx.sensitivity[1] && absY < ctx.sensitivity[1]) {\n            ctx.end(evt)\n            return\n          }\n        }\n        else if (absX < ctx.sensitivity[2] && absY < ctx.sensitivity[2]) {\n          return\n        }\n\n        const\n          velX = absX / time,\n          velY = absY / time\n\n        if (\n          ctx.direction.vertical === true &&\n          absX < absY &&\n          absX < 100 &&\n          velY > ctx.sensitivity[0]\n        ) {\n          ctx.event.dir = distY < 0 ? 'up' : 'down'\n        }\n\n        if (\n          ctx.direction.horizontal === true &&\n          absX > absY &&\n          absY < 100 &&\n          velX > ctx.sensitivity[0]\n        ) {\n          ctx.event.dir = distX < 0 ? 'left' : 'right'\n        }\n\n        if (\n          ctx.direction.up === true &&\n          absX < absY &&\n          distY < 0 &&\n          absX < 100 &&\n          velY > ctx.sensitivity[0]\n        ) {\n          ctx.event.dir = 'up'\n        }\n\n        if (\n          ctx.direction.down === true &&\n          absX < absY &&\n          distY > 0 &&\n          absX < 100 &&\n          velY > ctx.sensitivity[0]\n        ) {\n          ctx.event.dir = 'down'\n        }\n\n        if (\n          ctx.direction.left === true &&\n          absX > absY &&\n          distX < 0 &&\n          absY < 100 &&\n          velX > ctx.sensitivity[0]\n        ) {\n          ctx.event.dir = 'left'\n        }\n\n        if (\n          ctx.direction.right === true &&\n          absX > absY &&\n          distX > 0 &&\n          absY < 100 &&\n          velX > ctx.sensitivity[0]\n        ) {\n          ctx.event.dir = 'right'\n        }\n\n        if (ctx.event.dir !== false) {\n          stopAndPrevent(evt)\n\n          if (ctx.event.mouse === true) {\n            document.body.classList.add('no-pointer-events--children')\n            document.body.classList.add('non-selectable')\n            clearSelection()\n\n            ctx.styleCleanup = withDelay => {\n              ctx.styleCleanup = void 0\n\n              document.body.classList.remove('non-selectable')\n\n              const remove = () => {\n                document.body.classList.remove('no-pointer-events--children')\n              }\n\n              if (withDelay === true) { setTimeout(remove, 50) }\n              else { remove() }\n            }\n          }\n\n          ctx.handler({\n            evt,\n            touch: ctx.event.mouse !== true,\n            mouse: ctx.event.mouse,\n            direction: ctx.event.dir,\n            duration: time,\n            distance: {\n              x: absX,\n              y: absY\n            }\n          })\n        }\n        else {\n          ctx.end(evt)\n        }\n      },\n\n      end (evt) {\n        if (ctx.event === void 0) {\n          return\n        }\n\n        cleanEvt(ctx, 'temp')\n        client.is.firefox === true && preventDraggable(el, false)\n        ctx.styleCleanup !== void 0 && ctx.styleCleanup(true)\n        evt !== void 0 && ctx.event.dir !== false && stopAndPrevent(evt)\n\n        ctx.event = void 0\n      }\n    }\n\n    el.__qtouchswipe = ctx\n\n    modifiers.mouse === true && addEvt(ctx, 'main', [\n      [ el, 'mousedown', 'mouseStart', `passive${mouseCapture}` ]\n    ])\n\n    client.has.touch === true && addEvt(ctx, 'main', [\n      [ el, 'touchstart', 'touchStart', `passive${modifiers.capture === true ? 'Capture' : ''}` ],\n      [ el, 'touchmove', 'noop', `notPassiveCapture` ]\n    ])\n  },\n\n  update (el, { oldValue, value }) {\n    const ctx = el.__qtouchswipe\n    if (ctx !== void 0 && oldValue !== value) {\n      typeof value !== 'function' && ctx.end()\n      ctx.handler = value\n    }\n  },\n\n  unbind (el) {\n    if (el.__qtouchswipe_destroyed === void 0) {\n      destroy(el)\n    }\n    else {\n      delete el.__qtouchswipe_destroyed\n    }\n  }\n}\n"]}]}