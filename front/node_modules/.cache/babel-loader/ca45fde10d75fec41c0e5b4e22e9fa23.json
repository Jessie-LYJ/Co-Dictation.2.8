{"remainingRequest":"D:\\资料\\codictation.2.2\\codictation\\node_modules\\babel-loader\\lib\\index.js!D:\\资料\\codictation.2.2\\codictation\\node_modules\\vue-cli-plugin-quasar\\lib\\loader.transform-quasar-imports.js!D:\\资料\\codictation.2.2\\codictation\\node_modules\\vue-cli-plugin-quasar\\lib\\loader.auto-import.js?kebab!D:\\资料\\codictation.2.2\\codictation\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-1!D:\\资料\\codictation.2.2\\codictation\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\资料\\codictation.2.2\\codictation\\src\\components\\comment.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\资料\\codictation.2.2\\codictation\\src\\components\\comment.vue","mtime":1615344192435},{"path":"D:\\资料\\codictation.2.2\\codictation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\资料\\codictation.2.2\\codictation\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\资料\\codictation.2.2\\codictation\\node_modules\\vue-cli-plugin-quasar\\lib\\loader.transform-quasar-imports.js","mtime":499162500000},{"path":"D:\\资料\\codictation.2.2\\codictation\\node_modules\\vue-cli-plugin-quasar\\lib\\loader.auto-import.js","mtime":499162500000},{"path":"D:\\资料\\codictation.2.2\\codictation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\资料\\codictation.2.2\\codictation\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBBdmF0YXJPcmcgZnJvbSAiLi4vY29tcG9uZW50cy9iYXNpYy9BdmF0YXIiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbW1lbnRMaXN0OiBbXSwKICAgICAgY29tbWVudDogIiIsCiAgICAgIG5hbWU6ICIiLAogICAgICByZXBseUNvbW1lbnQ6ICIiLAogICAgICBpc1Nob3c6IGZhbHNlLAogICAgICBjdXJyZW50UmV2aWV3ZXI6ICIiLAogICAgICBjdXJyZW50UmVzcG9uZGVyOiAiIiwKICAgICAgY3VycmVudEluZGV4OiAwLAogICAgICBpc01haW5SZXBseTogZmFsc2UsCiAgICAgIGRpZmZJZDogIiIsCiAgICAgIGFwaTogIi9hcGkiCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgQXZhdGFyT3JnOiBBdmF0YXJPcmcKICB9LAogIG1ldGhvZHM6IHsKICAgIGFkZGxpa2U6IGZ1bmN0aW9uIGFkZGxpa2UoY29tVGltZSkgewogICAgICB0aGlzLiRheGlvcy5wb3N0KCIvc2NvcmUvYWRkbGlrZSIsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIF9pZDogdGhpcy5kaWZmSWQsCiAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsCiAgICAgICAgICBjb21UaW1lOiBjb21UaW1lCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICByZW1vdmVsaWtlOiBmdW5jdGlvbiByZW1vdmVsaWtlKGNvbVRpbWUpIHsKICAgICAgdGhpcy4kYXhpb3MucG9zdCgiL3Njb3JlL3JlbW92ZWxpa2UiLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBfaWQ6IHRoaXMuZGlmZklkLAogICAgICAgICAgbmFtZTogdGhpcy5uYW1lLAogICAgICAgICAgY29tVGltZTogY29tVGltZQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgbGlrZUNsaWNrOiBmdW5jdGlvbiBsaWtlQ2xpY2soaXRlbSwgaW5kZXgpIHsKICAgICAgdmFyIGNvbVRpbWUgPSBpdGVtLnRpbWU7CgogICAgICBpZiAoaXRlbS5pc0xpa2UgPT09IG51bGwpIHsKICAgICAgICBWdWUuJHNldChpdGVtLCAiaXNMaWtlIiwgdHJ1ZSk7CiAgICAgICAgaXRlbS5saWtlTnVtKys7CiAgICAgICAgdGhpcy5hZGRsaWtlKGNvbVRpbWUpOwogICAgICB9IGVsc2UgewogICAgICAgIGlmIChpdGVtLmlzTGlrZSkgewogICAgICAgICAgaXRlbS5saWtlTnVtLS07CiAgICAgICAgICB0aGlzLnJlbW92ZWxpa2UoY29tVGltZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGl0ZW0ubGlrZU51bSsrOwogICAgICAgICAgdGhpcy5hZGRsaWtlKGNvbVRpbWUpOwogICAgICAgIH0KCiAgICAgICAgaXRlbS5pc0xpa2UgPSAhaXRlbS5pc0xpa2U7CiAgICAgIH0KICAgIH0sCiAgICAvLyB9LAogICAgc3VibWl0Q29tOiBmdW5jdGlvbiBzdWJtaXRDb20oKSB7CiAgICAgIC8vIGxldCBkYXRlID0gbmV3IERhdGUoKTsKICAgICAgLy8gbGV0IHN1YlRpbWUgPSBkYXRlLnRvTG9jYWxlU3RyaW5nKCJjaGluZXNlIiwgewogICAgICAvLyAgIGhvdXIxMjogZmFsc2UsCiAgICAgIC8vIH0pOyAvL+iOt+W+l+W9k+WJjeaXtumXtAogICAgICB2YXIgc3ViVGltZSA9IHRoaXMuJG1vbWVudChuZXcgRGF0ZSgpKS5mb3JtYXQoIllZWVkvTU0vREQgSEg6bW06c3MiKTsKCiAgICAgIGlmICh0aGlzLmNvbW1lbnQpIHsKICAgICAgICB2YXIgaXRlbSA9IHsKICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSwKICAgICAgICAgIHRpbWU6IHN1YlRpbWUsCiAgICAgICAgICBjb21tZW50OiB0aGlzLmNvbW1lbnQsCiAgICAgICAgICByZXBseTogW10KICAgICAgICB9OwogICAgICAgIHRoaXMuY29tbWVudExpc3QucHVzaChpdGVtKTsgLy8gY29uc29sZS5sb2codGhpcy5jb21tZW50TGlzdCkKCiAgICAgICAgdGhpcy4kYXhpb3MucG9zdCh0aGlzLmFwaSArICIvdXBkYXRlY29tbWVudCIsIHsKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBfaWQ6IHRoaXMuZGlmZklkLAogICAgICAgICAgICBjb21tZW50czogdGhpcy5jb21tZW50TGlzdAogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTsKICAgICAgICB9KTsgLy/lsIbor4TorrrliJfooajmm7TmlrDliLDmlbDmja7lupMKCiAgICAgICAgdGhpcy5jb21tZW50ID0gIiI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy/ovpPlhaXnmoTlhoXlrrnkuLrnqboKICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgLy8gdGl0bGU6ICLorablkYoiLAogICAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgICAgbWVzc2FnZTogIuivt+mHjeaWsOehruiupO+8jOaCqOW5tuacqui+k+WFpeWGheWuueWTpn4iLAogICAgICAgICAgcG9zaXRpb246ICJib3R0b20tcmlnaHQiCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBzdWJtaXRSZXBseTogZnVuY3Rpb24gc3VibWl0UmVwbHkoaW5kZXgpIHsKICAgICAgLy8g5Zue5aSN6K+E6K66CiAgICAgIC8vIGxldCBkYXRlID0gbmV3IERhdGUoKTsKICAgICAgLy8gbGV0IHN1YlRpbWUgPSBkYXRlLnRvTG9jYWxlU3RyaW5nKCJjaGluZXNlIiwgewogICAgICAvLyAgIGhvdXIxMjogZmFsc2UsCiAgICAgIC8vIH0pOyAvL+iOt+W+l+W9k+WJjeaXtumXtAogICAgICB2YXIgc3ViVGltZSA9IHRoaXMuJG1vbWVudChuZXcgRGF0ZSgpKS5mb3JtYXQoIllZWVkvTU0vREQgSEg6bW06c3MiKTsKCiAgICAgIGlmICh0aGlzLnJlcGx5Q29tbWVudCkgewogICAgICAgIHZhciByZXBseUl0ZW0gPSB7CiAgICAgICAgICByZXZpZXdlcjogdGhpcy5jdXJyZW50UmV2aWV3ZXIsCiAgICAgICAgICByZXNwb25kZXI6IHRoaXMuY3VycmVudFJlc3BvbmRlciwKICAgICAgICAgIC8v5Zue5aSN55qE55So5oi35ZCNCiAgICAgICAgICB0aW1lOiBzdWJUaW1lLAogICAgICAgICAgY29tbWVudDogdGhpcy5yZXBseUNvbW1lbnQsCiAgICAgICAgICByZXBseTI6IFtdCiAgICAgICAgfTsKICAgICAgICBjb25zb2xlLmxvZyhyZXBseUl0ZW0pOwogICAgICAgIHRoaXMuY29tbWVudExpc3RbdGhpcy5jdXJyZW50SW5kZXhdLnJlcGx5LnB1c2gocmVwbHlJdGVtKTsKICAgICAgICB0aGlzLiRheGlvcy5wb3N0KHRoaXMuYXBpICsgIi91cGRhdGVDb21tZW50IiwgewogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIF9pZDogdGhpcy5kaWZmSWQsCiAgICAgICAgICAgIGNvbW1lbnRzOiB0aGlzLmNvbW1lbnRMaXN0CiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpOwogICAgICAgIH0pOwogICAgICAgIHRoaXMucmVwbHlDb21tZW50ID0gIiI7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImlucHV0IiArIGluZGV4KS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICB9IGVsc2UgewogICAgICAgIC8v6L6T5YWl55qE5YaF5a655Li656m6CiAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgIC8vIHRpdGxlOiAi6K2m5ZGKIiwKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fph43mlrDnoa7orqTvvIzmgqjlubbmnKrovpPlhaXlhoXlrrnlk6Z+IiwKICAgICAgICAgIHBvc2l0aW9uOiAiYm90dG9tLXJpZ2h0IgogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgcmVwbHk6IGZ1bmN0aW9uIHJlcGx5KGluZGV4LCByZXZpZXdlcikgewogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW5wdXQiICsgaW5kZXgpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IGluZGV4OwogICAgICB0aGlzLmN1cnJlbnRSZXZpZXdlciA9IHJldmlld2VyOyAvL+W9k+WJjeiiq+ivhOiuuueahOS6ugoKICAgICAgdGhpcy5jdXJyZW50UmVzcG9uZGVyID0gdGhpcy5uYW1lOyAvL+W9k+WJjeeUqOaItwogICAgICAvL+WIpOaWreaYr+WQpuS4uuWbnuWkjeivhOiuuu+8jOaYvuekuuS4jeWQjOeahOaMiemSrgogICAgICAvLyBpZiAocmV2aWV3ZXIgPT0gdGhpcy5jb21tZW50TGlzdFtpbmRleF0ubmFtZSkgewogICAgICAvLyAgIHRoaXMuaXNNYWluUmVwbHkgPSB0cnVlOwogICAgICAvLyB9CiAgICB9LAogICAgY2FuY2VsUmVwbHk6IGZ1bmN0aW9uIGNhbmNlbFJlcGx5KGluZGV4KSB7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbnB1dCIgKyBpbmRleCkuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMubmFtZSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXJOYW1lIik7CiAgICB0aGlzLmRpZmZJZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5kaWZmSWQ7CiAgICB2YXIgbmFtZSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXJOYW1lIik7IC8v6K+35rGC5pWw5o2uCgogICAgdGhpcy4kYXhpb3MuZ2V0KHRoaXMuYXBpICsgIi9jdXJyZW50VGFzaz9faWQ9IiArIHRoaXMuZGlmZklkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgLy8gdGhpcy5jb21tZW50TGlzdCA9IHJlcy5kYXRhWzBdLmNvbW1lbnRzOwogICAgICB2YXIgY29tbWVudExpc3QgPSByZXMuZGF0YVswXS5jb21tZW50czsgLy8gY29uc29sZS5sb2coY29tbWVudExpc3QpCgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbW1lbnRMaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKGNvbW1lbnRMaXN0W2ldLmxpa2VOYW1lKSB7CiAgICAgICAgICB2YXIgaXNOYW1lID0gY29tbWVudExpc3RbaV0ubGlrZU5hbWUuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHJldHVybiBpdGVtID09IG5hbWU7CiAgICAgICAgICB9KTsKICAgICAgICAgIGNvbnNvbGUubG9nKCJhYWFhYWFhIik7CgogICAgICAgICAgaWYgKGlzTmFtZSA9PSAtMSkgewogICAgICAgICAgICBjb21tZW50TGlzdFtpXS5pc0xpa2UgPSBmYWxzZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbW1lbnRMaXN0W2ldLmlzTGlrZSA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbW1lbnRMaXN0W2ldLmlzTGlrZSA9IGZhbHNlOwogICAgICAgICAgY29tbWVudExpc3RbaV0ubGlrZU51bSA9IDA7CiAgICAgICAgfQoKICAgICAgICBjb25zb2xlLmxvZyhjb21tZW50TGlzdCk7CiAgICAgIH0KCiAgICAgIF90aGlzLmNvbW1lbnRMaXN0ID0gY29tbWVudExpc3Q7CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["comment.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"container\">\n    <div v-if=\"commentList.length > 0\">\n      <div class=\"comment\" v-for=\"(item, index) in commentList\" :key=\"item.time\">\n    \n        <div class=\"info\">\n          <avatar-org class=\"avatar\"  width=\"40\" height=\"40\"></avatar-org>\n        <div class=\"right\">  \n        <div class=\"name\">{{ item.name }}</div>\n        <div class=\"date\">{{ item.time }}</div>\n        </div>\n        </div>\n        <div class=\"content\">{{ item.comment }}</div>\n\n        <div class=\"control\">\n        <span class=\"like\" :class=\"{active: item.isLike}\" @click=\"likeClick(item,index)\">\n          <i class=\"iconfont icon-like\"></i>\n          <span class=\"like-num\">{{item.likeNum > 0 ? item.likeNum + '人赞' : '赞'}}</span>\n        </span>\n        <span class=\"comment-reply\" @click=\"reply(index, item.name)\">\n          <i class=\"iconfont icon-comment\"></i>\n          <span>回复</span>\n        </span>\n      </div>\n\n        <!-- 每条评论的回复列表 -->\n        <div class=\"reply\">\n        <div  class=\"item\" v-for=\"replyitem in item.reply\" :key=\"replyitem.time\">\n          <div class=\"reply-content\" >\n          <span class=\"from-name\">{{ replyitem.responder }}</span><span>: </span>\n          <!-- v-if=\"isMainReply\" -->\n          <!-- <span v-else>{{ replyitem.responder }}回复@</span> -->\n          <!-- <span v-if=\"!isMainReply\">{{ replyitem.reviewer }}</span> -->\n          <span>{{ replyitem.comment }}</span></div>\n          <div class=\"reply-bottom\">\n          <span>{{ replyitem.time }}</span>\n          <!-- <el-button type=\"text\" @click=\"reply(index, replyitem.responder)\"\n            >回复</el-button\n          > -->\n          </div>\n        </div>\n        </div>\n          <div class=\"write-reply\" v-if=\"item.reply.length > 0\" @click=\"reply(index, item.name)\">\n          <i class=\"el-icon-edit\"></i>\n          <span class=\"add-comment\">添加新评论</span>\n        </div>\n       \n        <div :id=\"'input' + index\" style=\"display: none\">\n          <!-- <div v-if=\"isShow\"> -->\n          <el-input\n            type=\"textarea\"\n            class=\"gray-bg-input\"\n            v-model=\"replyComment\"\n            :rows=\"3\"\n            style=\"width: 30%\"\n            placeholder=\"写下你的评论\"\n          ></el-input>\n          <!-- 每一条评论对应一个回复框 -->\n          <br />\n          <!-- 回复评论 -->\n          <el-button type=\"primary\" @click=\"submitReply(index)\">回复</el-button>\n          <el-button type=\"info\" @click=\"cancelReply(index)\">取消</el-button>\n          <!-- v-if=\"isMainReply\" -->\n          <!-- 回复回复 -->\n          <!-- <el-button type=\"primary\" @click=\"submitReply2()\" v-else\n            >回复</el-button\n          > -->\n          <!-- </div> -->\n        </div>\n        <hr />\n      </div>\n    </div>\n    <div v-else>暂无评论~</div>\n    <el-input\n      type=\"textarea\"\n      v-model=\"comment\"\n      :rows=\"4\"\n      style=\"width: 40%\"\n    ></el-input>\n    <br />\n    <el-button type=\"primary\" @click=\"submitCom()\">发表评论</el-button>\n\n\n    \n  </div>\n\n\n</template>\n\n<script>\nimport Vue from 'vue'\nimport AvatarOrg from \"../components/basic/Avatar\";\nexport default {\n  data() {\n    return {\n      commentList: [],\n      comment: \"\",\n      name: \"\",\n      replyComment: \"\",\n      isShow: false,\n      currentReviewer: \"\",\n      currentResponder: \"\",\n      currentIndex: 0,\n      isMainReply: false,\n      diffId: \"\",\n      api: \"/api\",\n    };\n  },\n  components: {\n      AvatarOrg\n    },\n  methods: {\n    addlike(comTime){\n      this.$axios.post(\"/score/addlike\",{\n              params: {_id: this.diffId,name: this.name,comTime:comTime}, \n              })\n    },\n    removelike(comTime){\n      this.$axios.post(\"/score/removelike\",{\n                  params: {_id: this.diffId,name: this.name,comTime:comTime}, \n                  })\n    },\n     likeClick(item,index) {\n       var comTime = item.time\n        if (item.isLike === null) {\n          Vue.$set(item, \"isLike\", true);\n          item.likeNum++\n              this.addlike(comTime)\n        } else {\n          if (item.isLike) {\n            item.likeNum--\n\n            this.removelike(comTime)\n          } else {\n            item.likeNum++\n              this.addlike(comTime)\n          }\n          item.isLike = !item.isLike;\n        }\n      },\n\n    // },\n    submitCom() {\n      // let date = new Date();\n      // let subTime = date.toLocaleString(\"chinese\", {\n      //   hour12: false,\n      // }); //获得当前时间\n      let subTime=this.$moment(new Date()).format(\"YYYY/MM/DD HH:mm:ss\")\n      if (this.comment) {\n        let item = {\n          name: this.name,\n          time: subTime,\n          comment: this.comment,\n          reply: [],\n        };\n        this.commentList.push(item);\n        // console.log(this.commentList)\n        this.$axios\n          .post(this.api + \"/updatecomment\", {\n            params: {\n              _id: this.diffId,\n              comments: this.commentList,\n            },\n          })\n          .then((result) => {\n            console.log(result);\n          });\n        //将评论列表更新到数据库\n        this.comment = \"\";\n      } else {\n        //输入的内容为空\n        this.$notify({\n          // title: \"警告\",\n          type: \"warning\",\n          message: \"请重新确认，您并未输入内容哦~\",\n          position: \"bottom-right\",\n        });\n      }\n    },\n    submitReply(index) {\n      // 回复评论\n      // let date = new Date();\n      // let subTime = date.toLocaleString(\"chinese\", {\n      //   hour12: false,\n      // }); //获得当前时间\n      let subTime=this.$moment(new Date()).format(\"YYYY/MM/DD HH:mm:ss\")\n      if (this.replyComment) {\n        let replyItem = {\n          reviewer: this.currentReviewer,\n          responder: this.currentResponder, //回复的用户名\n          time: subTime,\n          comment: this.replyComment,\n          reply2: [],\n        };\n        console.log(replyItem);\n        this.commentList[this.currentIndex].reply.push(replyItem);\n        this.$axios\n          .post(this.api + \"/updateComment\", {\n            params: {\n              _id: this.diffId,\n              comments: this.commentList,\n            },\n          })\n          .then((result) => {\n            console.log(result);\n          });\n        this.replyComment = \"\";\n        document.getElementById(\"input\" + index).style.display = \"none\";\n      } else {\n        //输入的内容为空\n        this.$notify({\n          // title: \"警告\",\n          type: \"warning\",\n          message: \"请重新确认，您并未输入内容哦~\",\n          position: \"bottom-right\",\n        });\n      }\n    },\n    reply(index, reviewer) {\n      document.getElementById(\"input\" + index).style.display = \"block\";\n      this.currentIndex = index;\n      this.currentReviewer = reviewer; //当前被评论的人\n      this.currentResponder = this.name; //当前用户\n      //判断是否为回复评论，显示不同的按钮\n      // if (reviewer == this.commentList[index].name) {\n      //   this.isMainReply = true;\n      // }\n    },\n    cancelReply(index){\n      document.getElementById(\"input\" + index).style.display = \"none\";\n    },\n  },\n   created() {\n     this.name =  sessionStorage.getItem(\"userName\")\n     this.diffId = this.$route.params.diffId;\n     const name = sessionStorage.getItem(\"userName\")\n    //请求数据\n     this.$axios\n      .get(this.api + \"/currentTask?_id=\" + this.diffId)\n      .then((res) => {\n        // this.commentList = res.data[0].comments;\n          var commentList = res.data[0].comments;\n          // console.log(commentList)\n          for(var i = 0; i < commentList.length; i++){\n                if(commentList[i].likeName){\n                   const isName = commentList[i].likeName.findIndex((item) => item == name)\n                   console.log(\"aaaaaaa\")\n                      if(isName==-1){\n                        commentList[i].isLike = false\n                      }else{\n                        commentList[i].isLike = true\n                      }                \n                }else{\n                  commentList[i].isLike = false\n                  commentList[i].likeNum = 0\n                }\n               \n                console.log(commentList)\n          }\n          this.commentList = commentList\n\n      });\n  },\n};\n</script>\n\n<style lang=\"scss\">\n\n@import \"../../public/scss/index\";\n\n.container {\n    padding: 0 10px;\n    box-sizing: border-box;\n    .comment {\n      display: flex;\n      flex-direction: column;\n      padding: 10px;\n      border-bottom: 1px solid $border-fourth;\n      .info {\n        display: flex;\n        align-items: center;\n        .avatar {\n          border-radius: 50%;\n        }\n        .right {\n          display: flex;\n          flex-direction: column;\n          margin-left: 10px;\n          .name {\n            font-size: 16px;\n            color: $text-main;\n            margin-bottom: 5px;\n            font-weight: 500;\n          }\n          .date {\n            font-size: 12px;\n            color: $text-minor;\n          }\n        }\n      }\n    }\n\n\n    }\n.content {\n        font-size: 16px;\n        color: $text-main;\n        line-height: 20px;\n        padding: 10px 0;\n      }\n\n.control {\n        display: flex;\n        align-items: center;\n        font-size: 14px;\n        color: $text-minor;\n        .like {\n          display: flex;\n          align-items: center;\n          margin-right: 20px;\n          cursor: pointer;\n          &.active, &:hover {\n            color: $color-main;\n          }\n          .iconfont {\n            font-size: 14px;\n            margin-right: 5px;\n          }\n        }\n        .comment-reply {\n          display: flex;\n          align-items: center;\n          cursor: pointer;\n          &:hover {\n            color: $text-333;\n          }\n          .iconfont {\n            font-size: 16px;\n            margin-right: 5px;\n          }\n        }\n\n      }\n\n\n     .reply {\n        margin: 10px 0;\n        border-left: 2px solid $border-first;\n        .item {\n          margin: 0 10px;\n          padding: 10px 0;\n          border-bottom: 1px dashed $border-third;\n          .reply-content {\n            display: flex;\n            align-items: center;\n            font-size: 14px;\n            color: $text-main;\n            .from-name {\n              color: $color-main;\n            } \n          }\n          }\n          }\n\n          .reply-bottom {\n            display: flex;\n            align-items: center;\n            margin-top: 6px;\n            font-size: 12px;\n            color: $text-minor;}\n\n      .write-reply {\n          display: flex;\n          align-items: center;\n          font-size: 14px;\n          color: $text-minor;\n          padding: 10px;\n          cursor: pointer;\n          &:hover {\n            color: $text-main;\n          }\n          .el-icon-edit {\n            margin-right: 5px;\n          }\n        }\n</style>"],"sourceRoot":"src/components"}]}